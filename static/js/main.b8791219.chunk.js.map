{"version":3,"sources":["components/Header.module.css","App.module.css","components/Example.module.css","contexts/AppContext.tsx","components/scrypt.png","components/mode-light.svg","components/mode-dark.svg","components/Header.tsx","components/telegram.png","components/github.png","components/slack.png","components/medium.png","components/Footer.tsx","components/SEO.tsx","components/Html.tsx","components/Example.tsx","pages/access-modifiers/index.tsx","pages/access-modifiers/index.html.ts","pages/array-types/index.tsx","pages/array-types/index.html.ts","pages/auction/index.tsx","pages/auction/index.html.ts","pages/basic-types/index.tsx","pages/basic-types/index.html.ts","pages/code-seperator/index.tsx","pages/code-seperator/index.html.ts","pages/cointoss/index.tsx","pages/cointoss/index.html.ts","pages/const-variables/index.tsx","pages/const-variables/index.html.ts","pages/constructor/index.tsx","pages/constructor/index.html.ts","pages/contract-private-functions/index.tsx","pages/contract-private-functions/index.html.ts","pages/ecdsa-oracles/index.tsx","pages/ecdsa-oracles/index.html.ts","pages/exit/index.tsx","pages/exit/index.html.ts","pages/generics/index.tsx","pages/generics/index.html.ts","pages/gol/index.tsx","pages/gol/index.html.ts","pages/hello-world/index.tsx","pages/hello-world/index.html.ts","pages/if-else/index.tsx","pages/if-else/index.html.ts","pages/import/index.tsx","pages/import/index.html.ts","pages/inline-assembly/index.tsx","pages/inline-assembly/index.html.ts","pages/library/index.tsx","pages/library/index.html.ts","pages/loop/index.tsx","pages/loop/index.html.ts","pages/multiparty-hash-puzzles/index.tsx","pages/multiparty-hash-puzzles/index.html.ts","pages/operators/index.tsx","pages/operators/index.html.ts","pages/p2pkh/index.tsx","pages/p2pkh/index.html.ts","pages/public-function/index.tsx","pages/public-function/index.html.ts","pages/r-puzzle/index.tsx","pages/r-puzzle/index.html.ts","pages/rabin-signature/index.tsx","pages/rabin-signature/index.html.ts","pages/require/index.tsx","pages/require/index.html.ts","pages/rule110/index.tsx","pages/rule110/index.html.ts","pages/schnoor-signature/index.tsx","pages/schnoor-signature/index.html.ts","pages/scoping/index.tsx","pages/scoping/index.html.ts","pages/stateful-contract/index.tsx","pages/stateful-contract/index.html.ts","pages/static/index.tsx","pages/static/index.html.ts","pages/struct-types/index.tsx","pages/struct-types/index.html.ts","pages/tic-tac-toe/index.tsx","pages/tic-tac-toe/index.html.ts","pages/turing-machine/index.tsx","pages/turing-machine/index.html.ts","pages/type-aliases/index.tsx","pages/type-aliases/index.html.ts","pages/type-inference/index.tsx","pages/type-inference/index.html.ts","pages/vanity-address/index.tsx","pages/vanity-address/index.html.ts","components/youtube.svg","pages/index.tsx","routes.tsx","App.tsx","serviceWorker.ts","index.tsx","components/Footer.module.css","pages/index.module.css"],"names":["module","exports","INITIAL_STATE","theme","loading","AppContext","createContext","state","setTheme","loadLocalStorage","useAppContext","useContext","Provider","children","useState","setState","_setTheme","document","body","classList","remove","add","localStorage","getItem","error","console","setItem","_saveToLocalStorage","value","useMemo","Header","logo","logoDark","onClickTheme","className","styles","component","href","src","alt","header","versions","version","modeLight","light","onClick","e","modeDark","dark","Footer","row","scrypt","target","social","github","medium","slack","telegram","bar","SEO","title","description","Helmet","name","content","Html","html","useEffect","navigator","userAgent","querySelectorAll","forEach","pre","div","createElement","button","ariaLabel","icon","appendChild","code","firstChild","insertBefore","addEventListener","preventDefault","textArea","setAttribute","innerText","select","execCommand","removeChild","copy","childNodes","dangerouslySetInnerHTML","__html","Example","ExamplePage","ROUTES_BY_CATEGORY","routes","path","UPDATES","HomePage","component_access_modifiers","component_array_types","component_auction","component_basic_types","component_code_seperator","component_cointoss","component_const_variables","component_constructor","component_contract_private_functions","component_ecdsa_oracles","component_exit","component_generics","component_gol","component_hello_world","component_if_else","component_import","component_inline_assembly","component_library","component_loop","component_multiparty_hash_puzzles","component_operators","component_p2pkh","component_public_function","component_r_puzzle","component_rabin_signature","component_require","component_rule110","component_schnoor_signature","component_scoping","component_stateful_contract","component_static","component_struct_types","component_tic_tac_toe","component_turing_machine","component_type_aliases","component_type_inference","component_vanity_address","subHeader","main","youTube","youTubeLogo","updates","map","text","i","category","list","listItem","App","basename","process","route","exact","footer","Boolean","window","location","hostname","match","rootElement","getElementById","hasChildNodes","hydrate","render","serviceWorker","ready","then","registration","unregister","catch","message"],"mappings":"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AMM,KAAMA,WCPL6B,MAXf,WACE,OACE,cAAC,EAAD,CACErD,QCNiB,QDOjBkB,MCNe,mBDOfC,YCNqB,6BDOrBK,KCLI,suBCUK6B,MAXf,WACE,OACE,cAAC,EAAD,CACErD,QCNiB,QDOjBkB,MCNe,cDOfC,YCNqB,wBDOrBK,KCLI,y3HCUK6B,MAXf,WACE,OACE,cAAC,EAAD,CACErD,QCNiB,QDOjBkB,MCNe,UDOfC,YCNqB,oBDOrBK,KCLI,izHCUK6B,MAXf,WACE,OACE,cAAC,EAAD,CACErD,QCNiB,QDOjBkB,MCNe,cDOfC,YCNqB,wBDOrBK,KCLI,26ICUK6B,MAXf,WACE,OACE,cAAC,EAAD,CACErD,QCNiB,QDOjBkB,MCNe,iBDOfC,YCNqB,2BDOrBK,KCLI,ilCCUK6B,MAXf,WACE,OACE,cAAC,EAAD,CACErD,QCNiB,QDOjBkB,MCNe,iBDOfC,YCNqB,2BDOrBK,KCLI,yuFCUK6B,MAXf,WACE,OACE,cAAC,EAAD,CACErD,QCNiB,QDOjBkB,MCNe,kBDOfC,YCNqB,4BDOrBK,KCLI,woCCUK6B,MAXf,WACE,OACE,cAAC,EAAD,CACErD,QCNiB,QDOjBkB,MCNe,cDOfC,YCNqB,yBDOrBK,KCLI,8vCCUK6B,MAXf,WACE,OACE,cAAC,EAAD,CACErD,QCNiB,QDOjBkB,MCNe,YDOfC,YCNqB,sBDOrBK,KCLI,6mBCUK6B,MAXf,WACE,OACE,cAAC,EAAD,CACErD,QCNiB,QDOjBkB,MCNe,sBDOfC,YCNqB,gCDOrBK,KCLI,+mHCUK6B,MAXf,WACE,OACE,cAAC,EAAD,CACErD,QCNiB,QDOjBkB,MCNe,gBDOfC,YCNqB,0BDOrBK,KCLI,4+BCUK6B,MAXf,WACE,OACE,cAAC,EAAD,CACErD,QCNiB,QDOjBkB,MCNe,gBDOfC,YCNqB,0BDOrBK,KCLI,0+BCUK6B,MAXf,WACE,OACE,cAAC,EAAD,CACErD,QCNiB,QDOjBkB,MCNe,wBDOfC,YCNqB,kCDOrBK,KCLI,gpNCUK6B,MAXf,WACE,OACE,cAAC,EAAD,CACErD,QCNiB,QDOjBkB,MCNe,cDOfC,YCNqB,wBDOrBK,KCLI,o3BCUK6B,MAXf,WACE,OACE,cAAC,EAAD,CACErD,QCNiB,QDOjBkB,MCNe,YDOfC,YCNqB,gCDOrBK,KCLI,24BCUK6B,MAXf,WACE,OACE,cAAC,EAAD,CACErD,QCNiB,QDOjBkB,MCNe,SDOfC,YCNqB,6BDOrBK,KCLI,kqFCUK6B,MAXf,WACE,OACE,cAAC,EAAD,CACErD,QCNiB,QDOjBkB,MCNe,kBDOfC,YCNqB,4BDOrBK,KCLI,+wBCUK6B,MAXf,WACE,OACE,cAAC,EAAD,CACErD,QCNiB,QDOjBkB,MCNe,UDOfC,YCNqB,sBDOrBK,KCLI,2xDCUK6B,MAXf,WACE,OACE,cAAC,EAAD,CACErD,QCNiB,QDOjBkB,MCNe,QDOfC,YCNqB,kBDOrBK,KCLI,muDCUK6B,OAXf,WACE,OACE,cAAC,EAAD,CACErD,QCNiB,QDOjBkB,MCNe,0BDOfC,YCNqB,oCDOrBK,KCLI,ylICUK6B,OAXf,WACE,OACE,cAAC,EAAD,CACErD,QCNiB,QDOjBkB,MCNe,YDOfC,YCNqB,sBDOrBK,KCLI,msCCUK6B,OAXf,WACE,OACE,cAAC,EAAD,CACErD,QCNiB,QDOjBkB,MCNe,QDOfC,YCNqB,2CDOrBK,KCLI,q+BCUK6B,OAXf,WACE,OACE,cAAC,EAAD,CACErD,QCNiB,QDOjBkB,MCNe,kBDOfC,YCNqB,6BDOrBK,KCLI,ovECUK6B,OAXf,WACE,OACE,cAAC,EAAD,CACErD,QCNiB,QDOjBkB,MCNe,WDOfC,YCNqB,8BDOrBK,KCLI,25DCUK6B,OAXf,WACE,OACE,cAAC,EAAD,CACErD,QCNiB,QDOjBkB,MCNe,mBDOfC,YCNqB,6BDOrBK,KCLI,w7DCUK6B,OAXf,WACE,OACE,cAAC,EAAD,CACErD,QCNiB,QDOjBkB,MCNe,UDOfC,YCNqB,6BDOrBK,KCLI,guBCUK6B,OAXf,WACE,OACE,cAAC,EAAD,CACErD,QCNiB,QDOjBkB,MCNe,WDOfC,YCNqB,qBDOrBK,KCLI,s+KCUK6B,OAXf,WACE,OACE,cAAC,EAAD,CACErD,QCNiB,QDOjBkB,MCNe,qBDOfC,YCNqB,+BDOrBK,KCLI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","file":"static/js/main.b8791219.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"component\":\"Header_component__B9OnK\",\"logo\":\"Header_logo__2JW7-\",\"light\":\"Header_light__2kMNq\",\"dark\":\"Header_dark__3mr_R\",\"header\":\"Header_header__1i3tr\",\"versions\":\"Header_versions__lF_Kd\",\"bar\":\"Header_bar__2a01K\",\"version\":\"Header_version__mvWlY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"component\":\"App_component__1bw3C\",\"main\":\"App_main__3uArt\",\"footer\":\"App_footer__3TwnI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"component\":\"Example_component__2xli-\",\"content\":\"Example_content__2bWhi\"};","import React, { useState, createContext, useContext, useMemo } from \"react\"\r\n\r\nexport type Theme = \"light\" | \"dark\"\r\n\r\ninterface AppState {\r\n  theme: Theme\r\n  loading: boolean\r\n}\r\n\r\nconst INITIAL_STATE: AppState = {\r\n  theme: \"light\",\r\n  loading: true,\r\n}\r\n\r\nconst AppContext = createContext({\r\n  state: INITIAL_STATE,\r\n  setTheme: (theme: Theme) => {},\r\n  loadLocalStorage: () => {},\r\n})\r\n\r\nexport function useAppContext() {\r\n  return useContext(AppContext)\r\n}\r\n\r\nfunction _saveToLocalStorage(theme: Theme) {\r\n  try {\r\n    localStorage.setItem(\"theme\", theme)\r\n  } catch (error) {\r\n    console.error(error)\r\n  }\r\n}\r\n\r\ninterface Props {}\r\n\r\nexport const Provider: React.FC<Props> = ({ children }) => {\r\n  const [state, setState] = useState(INITIAL_STATE)\r\n\r\n  function _setTheme(theme: Theme) {\r\n    if (theme == \"dark\") {\r\n      document.body.classList.remove(\"light\")\r\n      document.body.classList.add(\"dark\")\r\n    } else {\r\n      document.body.classList.remove(\"dark\")\r\n      document.body.classList.add(\"light\")\r\n    }\r\n  }\r\n\r\n  function loadLocalStorage() {\r\n    try {\r\n      // @ts-ignore\r\n      const theme: Theme = localStorage.getItem(\"theme\") || \"light\"\r\n\r\n      _setTheme(theme)\r\n\r\n      setState((state) => ({\r\n        ...state,\r\n        theme,\r\n      }))\r\n    } catch (error) {\r\n      console.error(error)\r\n    }\r\n\r\n    setState((state) => ({\r\n      ...state,\r\n      loading: false,\r\n    }))\r\n  }\r\n\r\n  function setTheme(theme: Theme) {\r\n    _setTheme(theme)\r\n    setState({ ...state, theme })\r\n    _saveToLocalStorage(theme)\r\n  }\r\n\r\n  return (\r\n    <AppContext.Provider\r\n      value={useMemo(\r\n        () => ({\r\n          state,\r\n          loadLocalStorage,\r\n          setTheme,\r\n        }),\r\n        [state]\r\n      )}\r\n    >\r\n      {children}\r\n    </AppContext.Provider>\r\n  )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/scrypt.dcd88edd.png\";","export default __webpack_public_path__ + \"static/media/mode-light.42df9094.svg\";","export default __webpack_public_path__ + \"static/media/mode-dark.faf9339e.svg\";","import React from \"react\"\r\nimport { useAppContext, Theme } from \"../contexts/AppContext\"\r\nimport styles from \"./Header.module.css\"\r\nimport logoLight from \"./scrypt.png\"\r\nimport logoDark from \"./scrypt.png\"\r\nimport modeLight from \"./mode-light.svg\"\r\nimport modeDark from \"./mode-dark.svg\"\r\n\r\nfunction Header() {\r\n  const { state, setTheme } = useAppContext()\r\n\r\n  let logo = state.theme == \"dark\" ? logoDark : logoLight\r\n\r\n  function onClickTheme(theme: Theme) {\r\n    setTheme(theme)\r\n  }\r\n\r\n  // NOTE: need to use links for versions so that react-snap can crawl\r\n  return (\r\n    <div className={styles.component}>\r\n      <a href=\"/\">\r\n        <img src={logo} alt=\"logo\" className={styles.logo} />\r\n      </a>\r\n\r\n      <h3 className={styles.header}>\r\n        <a href=\"/\">sCrypt by Example</a>\r\n\r\n        <div className={styles.versions}>\r\n          <div className={styles.version}></div>\r\n        </div>\r\n      </h3>\r\n\r\n      {state.theme == \"dark\" ? (\r\n        <img\r\n          src={modeLight}\r\n          alt=\"light mode\"\r\n          className={styles.light}\r\n          onClick={(e) => onClickTheme(\"light\")}\r\n        />\r\n      ) : (\r\n        <img\r\n          src={modeDark}\r\n          alt=\"dark mode\"\r\n          className={styles.dark}\r\n          onClick={(e) => onClickTheme(\"dark\")}\r\n        />\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Header\r\n","export default __webpack_public_path__ + \"static/media/telegram.2c6478d9.png\";","export default __webpack_public_path__ + \"static/media/github.5994b25b.png\";","export default __webpack_public_path__ + \"static/media/slack.8c80a788.png\";","export default __webpack_public_path__ + \"static/media/medium.04b8f9d1.png\";","import React from \"react\"\r\nimport styles from \"./Footer.module.css\"\r\nimport scrypt from \"./scrypt.png\"\r\nimport youTube from \"./youtube.svg\"\r\nimport telegram from \"./telegram.png\"\r\nimport discord from \"./discord.png\"\r\nimport github from \"./github.png\"\r\nimport slack from \"./slack.png\"\r\nimport medium from \"./medium.png\"\r\n\r\n\r\nfunction Footer() {\r\n  return (\r\n    <div className={styles.component}>\r\n      <div className={styles.row}>\r\n        <img src={scrypt} alt=\"sCrypt\" className={styles.scrypt} />\r\n        <a href=\"https://scrypt.io/\" target=\"__blank\">\r\n          sCrypt - A High-Level Language for Bitcoin Smart Contracts.\r\n        </a>\r\n      </div>\r\n      <div className={styles.social}>\r\n        <div className={styles.row}>\r\n          <img src={github} alt=\"github\" className={styles.github} />\r\n          <a href=\"https://github.com/sCrypt-Inc\" target=\"__blank\">\r\n            GitHub\r\n          </a>\r\n        </div>\r\n        <div className={styles.row}>\r\n          <img src={medium} alt=\"medium\" className={styles.medium} />\r\n          <a href=\"https://medium.com/@xiaohuiliu\" target=\"__blank\">\r\n            Medium\r\n          </a>\r\n        </div>\r\n        <div className={styles.row}>\r\n          <img src={slack} alt=\"slack\" className={styles.slack} />\r\n          <a href=\"https://join.slack.com/t/scryptworkspace/shared_invite/enQtNzQ1OTMyNDk1ODU3LTJmYjE5MGNmNDZhYmYxZWM4ZGY2MTczM2NiNTIxYmFhNTVjNjE5MGYwY2UwNDYxMTQyNGU2NmFkNTY5MmI1MWM\" target=\"__blank\">\r\n            Slack\r\n          </a>\r\n        </div>\r\n        <div className={styles.row}>\r\n          <img src={telegram} alt=\"telegram\" className={styles.telegram} />\r\n          <a href=\"https://t.me/joinchat/GwaRAxKT16JjXyHt5PuhHw\" target=\"__blank\">\r\n            Telegram\r\n          </a>\r\n        </div>\r\n      </div>\r\n      <div className={styles.row}>\r\n        <a href=\"mailto:contact@support@scrypt.io\">\r\n            support@scrypt.io\r\n        </a>\r\n      </div>\r\n      <div className={styles.row}>\r\n        <a\r\n          href=\"https://github.com/sCrypt-Inc/scrypt-by-example.github.io\"\r\n          target=\"__blank\"\r\n        >\r\n          source\r\n        </a>\r\n        <div className={styles.bar}>|</div>\r\n        <a\r\n          href=\"https://github.com/sCrypt-Inc/scrypt-by-example.github.io/blob/gh-pages/LICENSE\"\r\n          target=\"__blank\"\r\n        >\r\n          license\r\n        </a>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Footer\r\n","import React from \"react\"\r\nimport { Helmet } from \"react-helmet\"\r\n\r\ninterface Props {\r\n  title: string\r\n  description: string\r\n}\r\n\r\nconst SEO: React.FC<Props> = ({ title, description }) => {\r\n  return (\r\n    <Helmet>\r\n      <title>{title}</title>\r\n      <meta name=\"Description\" content={description} />\r\n    </Helmet>\r\n  )\r\n}\r\n\r\nexport default SEO\r\n","// @ts-ignore\r\n// import hljs from \"highlight.js/lib/core\"\r\n// import \"highlight.js/styles/foundation.css\"\r\n// import \"highlight.js/styles/github-dark.css\"\r\n// @ts-ignore\r\n// import hljsDefineSolidity from \"highlightjs-solidity\"\r\nimport React, { useEffect } from \"react\"\r\n\r\n// hljsDefineSolidity(hljs)\r\n// hljs.initHighlightingOnLoad()\r\n\r\ninterface Props {\r\n  html: string\r\n}\r\n\r\nconst Html: React.FC<Props> = ({ html }) => {\r\n  // NOTE: to render hightlighs after page load\r\n  // useEffect(() => {\r\n  //   document.querySelectorAll(\"pre code\").forEach((block) => {\r\n  //     hljs.highlightBlock(block)\r\n  //   })\r\n  // }, [])\r\n\r\n  /* Note: Copy button to render inside pre\r\n  <div class=\"buttons\">\r\n    <button class=\"fa fa-copy clip-button\" title=\"Copy to clipboard\" aria-label=\"Copy to clipboard\">\r\n      <i class=\"tooltiptext\"></i>\r\n    </button>\r\n  </div>\r\n  */\r\n  useEffect(() => {\r\n    // Skip creating elements when pre-rendering\r\n    if (navigator.userAgent === \"ReactSnap\") {\r\n      return\r\n    }\r\n\r\n    const copy = (target: any) => {\r\n      const textArea = document.createElement(\"textarea\")\r\n      textArea.setAttribute(\"style\", \"width:1px;border:0;opacity:0;\")\r\n      document.body.appendChild(textArea)\r\n\r\n      textArea.value = target.innerText\r\n      textArea.select()\r\n      document.execCommand(\"copy\")\r\n\r\n      document.body.removeChild(textArea)\r\n    }\r\n\r\n    const pres = document.querySelectorAll(\"pre\")\r\n    pres.forEach((pre) => {\r\n      // div\r\n      const div = document.createElement(\"div\")\r\n      div.className = \"buttons\"\r\n\r\n      // button\r\n      const button = document.createElement(\"button\")\r\n      button.className = \"fa fa-copy clip-button\"\r\n      button.title = \"Copy to clipboard\"\r\n      // @ts-ignore\r\n      button.ariaLabel = \"Copy to clipboard\"\r\n\r\n      const icon = document.createElement(\"i\")\r\n      icon.className = \"tooltiptext\"\r\n      button.appendChild(icon)\r\n\r\n      div.appendChild(button)\r\n\r\n      const code = pre.firstChild\r\n      pre.insertBefore(div, code)\r\n\r\n      // button on click\r\n      button.addEventListener(\"click\", (e) => {\r\n        e.preventDefault()\r\n        // NOTE:\r\n        // child 0 = <div class=\"buttons\">\r\n        // child 1 = <code>\r\n        copy(pre.childNodes[1])\r\n      })\r\n    })\r\n  }, [])\r\n\r\n  return <div dangerouslySetInnerHTML={{ __html: html }}></div>\r\n}\r\n\r\nexport default Html\r\n","import React from \"react\"\r\nimport SEO from \"./SEO\"\r\nimport Html from \"./Html\"\r\nimport styles from \"./Example.module.css\"\r\n\r\ninterface Props {\r\n  title: string\r\n  description: string\r\n  version: \"0.1.0\"\r\n  html: string\r\n}\r\n\r\nconst Example: React.FC<Props> = ({ title, version, description, html }) => {\r\n  return (\r\n    <div className={styles.component}>\r\n      <SEO\r\n        title={`${title} | sCrypt by Example | ${version}`}\r\n        description={description}\r\n      />\r\n      <div className={styles.content}>\r\n        <h2>{title}</h2>\r\n\r\n        <Html html={html} />\r\n\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Example\r\n","import React from \"react\"\r\nimport Example from \"../../components/Example\"\r\nimport html, { version, title, description } from \"./index.html\"\r\n\r\nfunction ExamplePage() {\r\n  return (\r\n    <Example\r\n      version={version}\r\n      title={title}\r\n      description={description}\r\n      html={html}\r\n    />\r\n  )\r\n}\r\n\r\nexport default ExamplePage\r\n","// metadata\r\nexport const version = \"0.1.0\"\r\nexport const title = \"Access Modifiers\"\r\nexport const description = \"Access modifiers in sCrypt\"\r\n\r\nconst html = `<p>There are three types of access modifiers available to help restrict the scope of properties and functions of a contract:</p>\r\n<ul>\r\n<li>Default: no keyword required</li>\r\n<li>Private</li>\r\n<li>Public: only applies to functions</li>\r\n</ul>\r\n<p>Only public functions can be called externally by Bitcoin transactions.</p>\r\n<table>\r\n<thead>\r\n<tr>\r\n<th></th>\r\n<th><strong>default</strong></th>\r\n<th><strong>private</strong></th>\r\n<th><strong>public</strong></th>\r\n</tr>\r\n</thead>\r\n<tbody><tr>\r\n<td>Same contract</td>\r\n<td>Yes</td>\r\n<td>Yes</td>\r\n<td>Yes</td>\r\n</tr>\r\n<tr>\r\n<td>Other conract</td>\r\n<td>Yes</td>\r\n<td>No</td>\r\n<td>Yes</td>\r\n</tr>\r\n<tr>\r\n<td>Externally</td>\r\n<td>No</td>\r\n<td>No</td>\r\n<td>Yes</td>\r\n</tr>\r\n</tbody></table>\r\n`\r\n\r\nexport default html\r\n","import React from \"react\"\r\nimport Example from \"../../components/Example\"\r\nimport html, { version, title, description } from \"./index.html\"\r\n\r\nfunction ExamplePage() {\r\n  return (\r\n    <Example\r\n      version={version}\r\n      title={title}\r\n      description={description}\r\n      html={html}\r\n    />\r\n  )\r\n}\r\n\r\nexport default ExamplePage\r\n","// metadata\r\nexport const version = \"0.1.0\"\r\nexport const title = \"Array Types\"\r\nexport const description = \"Array types in sCrypt\"\r\n\r\nconst html = `<p>An array is a fixed-size list of values of the same <em>basic</em> type.</p>\r\n<h3 id=\"array-literals\">Array literals</h3>\r\n<pre><code class=\"language-javascript\">bool[<span class=\"hljs-number\">3</span>] b = [<span class=\"hljs-literal\">false</span>, <span class=\"hljs-literal\">false</span> &amp;&amp; <span class=\"hljs-literal\">true</span> || <span class=\"hljs-literal\">false</span>, <span class=\"hljs-literal\">true</span> || (<span class=\"hljs-number\">1</span> &gt; <span class=\"hljs-number\">2</span>)];\r\nint[<span class=\"hljs-number\">3</span>] c = [<span class=\"hljs-number\">72</span>, -<span class=\"hljs-number\">4</span> - <span class=\"hljs-number\">1</span> - <span class=\"hljs-number\">40</span>, <span class=\"hljs-number\">833</span> * (<span class=\"hljs-number\">99</span> + <span class=\"hljs-number\">9901</span>) + <span class=\"hljs-number\">8888</span>];\r\nbytes[<span class=\"hljs-number\">3</span>] a = [b<span class=\"hljs-string\">&#x27;ffee&#x27;</span>, b<span class=\"hljs-string\">&#x27;11&#x27;</span>, b<span class=\"hljs-string\">&#x27;22&#x27;</span>];\r\nint[<span class=\"hljs-number\">2</span>][<span class=\"hljs-number\">3</span>] d = [[<span class=\"hljs-number\">11</span>, <span class=\"hljs-number\">12</span>, <span class=\"hljs-number\">13</span>], [<span class=\"hljs-number\">21</span>, <span class=\"hljs-number\">22</span>, <span class=\"hljs-number\">23</span>]];\r\n</code></pre>\r\n<p>Array dimensions can be ommited, when declared:</p>\r\n<pre><code class=\"language-javascript\">int[] e = [<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">4</span>, <span class=\"hljs-number\">2</span>];\r\nint[][] f = [[<span class=\"hljs-number\">11</span>, <span class=\"hljs-number\">12</span>, <span class=\"hljs-number\">13</span>], [<span class=\"hljs-number\">21</span>, <span class=\"hljs-number\">22</span>, <span class=\"hljs-number\">23</span>]];\r\n</code></pre>\r\n<h3 id=\"repeat-function\">Repeat function</h3>\r\n<p>The function <code>T[size] repeat(T e, static const int size)</code> returns an array with all size elements set to <code>e</code>, where <code>T</code> can be any type. Note <code>size</code> must be a compile time constant.</p>\r\n<pre><code class=\"language-javascript\"><span class=\"hljs-comment\">// a == [0, 0, 0]</span>\r\nint[<span class=\"hljs-number\">3</span>] a = <span class=\"hljs-title function_\">repeat</span>(<span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">3</span>);\r\n\r\n<span class=\"hljs-comment\">// arr2D == [[0, 0, 0], [0, 0, 0]]</span>\r\nint[<span class=\"hljs-number\">2</span>][<span class=\"hljs-number\">3</span>] arr2D = <span class=\"hljs-title function_\">repeat</span>(<span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">2</span>);\r\n\r\nint[<span class=\"hljs-number\">4</span>] flags = [<span class=\"hljs-literal\">false</span>, <span class=\"hljs-literal\">true</span>, <span class=\"hljs-literal\">false</span>, <span class=\"hljs-literal\">true</span>]\r\nflags = <span class=\"hljs-title function_\">repeat</span>(<span class=\"hljs-literal\">false</span>, <span class=\"hljs-number\">4</span>);   <span class=\"hljs-comment\">// set all flags to be false</span>\r\n</code></pre>\r\n<h3 id=\"index-operator\">Index operator</h3>\r\n<p>A variable index is allowed when reading from an array:</p>\r\n<pre><code class=\"language-javascript\">int[<span class=\"hljs-number\">3</span>] a = [<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">4</span>, <span class=\"hljs-number\">2</span>];\r\nint idx = <span class=\"hljs-number\">2</span>;\r\nint val = a[idx];\r\n</code></pre>\r\n<p>An index value, that is out of bounds will cause contract execution to fail immeadiately.</p>\r\n<p>When writing to an array however, the index operator needs to be a compile-time constant:</p>\r\n<pre><code class=\"language-javascript\">a[N] = <span class=\"hljs-number\">3</span>;    <span class=\"hljs-comment\">// N is a CTC</span>\r\n<span class=\"hljs-comment\">// or</span>\r\na[<span class=\"hljs-number\">1</span>] = <span class=\"hljs-number\">3</span>;\r\n</code></pre>\r\n`\r\n\r\nexport default html\r\n","import React from \"react\"\r\nimport Example from \"../../components/Example\"\r\nimport html, { version, title, description } from \"./index.html\"\r\n\r\nfunction ExamplePage() {\r\n  return (\r\n    <Example\r\n      version={version}\r\n      title={title}\r\n      description={description}\r\n      html={html}\r\n    />\r\n  )\r\n}\r\n\r\nexport default ExamplePage\r\n","// metadata\r\nexport const version = \"0.1.0\"\r\nexport const title = \"Auction\"\r\nexport const description = \"Auction in sCrypt\"\r\n\r\nconst html = `<p>The auction contract implements two public functions:</p>\r\n<ul>\r\n<li><code>bid</code> - If a higher bid is found, the current winner is updated and the previous highest bidder is refunded.</li>\r\n<li><code>close</code> - The auctioneer can close the auction after it expires and take the offer.</li>\r\n</ul>\r\n<pre><code class=\"language-javascript\"><span class=\"hljs-comment\">// Auction: highest bid before deadline wins</span>\r\ncontract <span class=\"hljs-title class_\">Auction</span> {\r\n    @state\r\n    <span class=\"hljs-title class_\">Ripemd160</span> bidder;\r\n\r\n    <span class=\"hljs-title class_\">PubKey</span> auctioner;\r\n    int auctionDeadline;\r\n\r\n    <span class=\"hljs-comment\">// bid with a higher offer</span>\r\n    public <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">bid</span>(<span class=\"hljs-params\">Ripemd160 bidder, int bid, int changeSats, SigHashPreimage txPreimage</span>) {\r\n        <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-title class_\">Tx</span>.<span class=\"hljs-title function_\">checkPreimage</span>(txPreimage));\r\n\r\n        int highestBid = <span class=\"hljs-title class_\">SigHash</span>.<span class=\"hljs-title function_\">value</span>(txPreimage);\r\n        <span class=\"hljs-built_in\">require</span>(bid &gt; highestBid);\r\n\r\n        <span class=\"hljs-title class_\">Ripemd160</span> highestBidder = <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">bidder</span>;\r\n        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">bidder</span> = bidder;\r\n\r\n        <span class=\"hljs-comment\">// auction continues with a higher bidder</span>\r\n        bytes stateScript = <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">getStateScript</span>();\r\n        bytes auctionOutput = <span class=\"hljs-title class_\">Utils</span>.<span class=\"hljs-title function_\">buildOutput</span>(stateScript, bid);\r\n\r\n        <span class=\"hljs-comment\">// refund previous highest bidder</span>\r\n        bytes refundScript = <span class=\"hljs-title class_\">Utils</span>.<span class=\"hljs-title function_\">buildPublicKeyHashScript</span>(highestBidder);\r\n        bytes refundOutput = <span class=\"hljs-title class_\">Utils</span>.<span class=\"hljs-title function_\">buildOutput</span>(refundScript, highestBid);\r\n\r\n        bytes changeScript = <span class=\"hljs-title class_\">Utils</span>.<span class=\"hljs-title function_\">buildPublicKeyHashScript</span>(bidder);\r\n        bytes changeOutput = <span class=\"hljs-title class_\">Utils</span>.<span class=\"hljs-title function_\">buildOutput</span>(changeScript, changeSats);\r\n\r\n        bytes output = auctionOutput + refundOutput + changeOutput;\r\n\r\n        <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-title function_\">hash256</span>(output) == <span class=\"hljs-title class_\">SigHash</span>.<span class=\"hljs-title function_\">hashOutputs</span>(txPreimage));\r\n    }\r\n\r\n    <span class=\"hljs-comment\">// withdraw after bidding is over</span>\r\n    public <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">close</span>(<span class=\"hljs-params\">Sig sig, SigHashPreimage txPreimage</span>) {\r\n        <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-title class_\">Tx</span>.<span class=\"hljs-title function_\">checkPreimage</span>(txPreimage));\r\n        <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-title class_\">SigHash</span>.<span class=\"hljs-title function_\">nLocktime</span>(txPreimage) &gt;= <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">auctionDeadline</span>);\r\n        <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-title function_\">checkSig</span>(sig, <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">auctioner</span>));\r\n    }\r\n}\r\n</code></pre>\r\n`\r\n\r\nexport default html\r\n","import React from \"react\"\r\nimport Example from \"../../components/Example\"\r\nimport html, { version, title, description } from \"./index.html\"\r\n\r\nfunction ExamplePage() {\r\n  return (\r\n    <Example\r\n      version={version}\r\n      title={title}\r\n      description={description}\r\n      html={html}\r\n    />\r\n  )\r\n}\r\n\r\nexport default ExamplePage\r\n","// metadata\r\nexport const version = \"0.1.0\"\r\nexport const title = \"Basic Types\"\r\nexport const description = \"Basic types in sCrypt\"\r\n\r\nconst html = `<p>sCrypt supports the following basic types:</p>\r\n<ul>\r\n<li><code>bool</code> - a boolean value <code>true</code> or <code>false</code>,</li>\r\n<li><code>int</code> - a signed integer of arbitrary length, whose literals are in decimal or hexadecimal format:<pre><code class=\"language-javascript\">int a1 = <span class=\"hljs-number\">42</span>;\r\nint a2 = -<span class=\"hljs-number\">4242424242424242</span>;\r\nint a3 = <span class=\"hljs-number\">55066263022277343669578718895168534326250603453777594175500187360389116729240</span>;\r\nint a4 = <span class=\"hljs-number\">0xFF8C</span>;\r\nint a5 = <span class=\"hljs-number\">0xff8c</span>;\r\n</code></pre>\r\n</li>\r\n<li><code>bytes</code> -  a variable length array of bytes, whose literals are in quoted hexadecimal format prefixed by <code>b</code>:<pre><code class=\"language-javascript\">bytes b1 = b<span class=\"hljs-string\">&#x27;ffee1234&#x27;</span>;\r\nbytes b2 = b<span class=\"hljs-string\">&#x27;414136d08c5ed2bf3ba048afe6dcaebafeffffffffffffffffffffffffffffff00&#x27;</span>;\r\nbytes b3 = b<span class=\"hljs-string\">&#x27;1122&#x27;</span> + b<span class=\"hljs-string\">&#x27;eeff&#x27;</span>; <span class=\"hljs-comment\">// b3 is b&#x27;1122eeff&#x27;</span>\r\n</code></pre>\r\n</li>\r\n</ul>\r\n<h2 id=\"domain-subtypes\">Domain subtypes</h2>\r\n<p>sCrypt has several subtypes, specific to the Bitcoin context, used to further improve type safety.</p>\r\n<h3 id=\"subtypes-of-bytes\">Subtypes of <code>bytes</code></h3>\r\n<ul>\r\n<li><p><code>PubKey</code> - an EC public key in compressed format (33 bytes):</p>\r\n<pre><code class=\"language-javascript\"><span class=\"hljs-title class_\">PubKey</span> pubKey = <span class=\"hljs-title class_\">PubKey</span>(b<span class=\"hljs-string\">&#x27;0200112233445566778899aabbccddeeffffeeddccbbaa99887766554433221100&#x27;</span>);\r\n</code></pre>\r\n</li>\r\n<li><p><code>Sig</code> - an EC signature in DER format with SIGHASH flag appended at the end (0x41 - in the below example, which means <code>SIGHASH_ALL | SIGHASH_FORKID</code>):</p>\r\n<pre><code class=\"language-javascript\"><span class=\"hljs-title class_\">Sig</span> sig = <span class=\"hljs-title class_\">Sig</span>(b<span class=\"hljs-string\">&#x27;3045022100b71be3f1dc001e0a1ad65ed84e7a5a0bfe48325f2146ca1d677cf15e96e8b80302206d74605e8234eae3d4980fcd7b2fdc1c5b9374f0ce71dea38707fccdbd28cf7e41&#x27;</span>);\r\n</code></pre>\r\n</li>\r\n<li><p><code>Ripemd160</code> - a RIPEMD-160 hash type:</p>\r\n<pre><code class=\"language-javascript\"><span class=\"hljs-title class_\">Ripemd160</span> r = <span class=\"hljs-title class_\">Ripemd160</span>(b<span class=\"hljs-string\">&#x27;0011223344556677889999887766554433221100&#x27;</span>);\r\n</code></pre>\r\n</li>\r\n<li><p><code>Sha1</code> - a SHA-1 hash type:</p>\r\n<pre><code class=\"language-javascript\"><span class=\"hljs-title class_\">Sha1</span> s = <span class=\"hljs-title class_\">Sha1</span>(b<span class=\"hljs-string\">&#x27;0011223344556677889999887766554433221100&#x27;</span>);\r\n</code></pre>\r\n</li>\r\n<li><p><code>Sha256</code> - a SHA-256 hash type:</p>\r\n<pre><code class=\"language-javascript\"><span class=\"hljs-title class_\">Sha256</span> s = <span class=\"hljs-title class_\">Sha256</span>(b<span class=\"hljs-string\">&#x27;00112233445566778899aabbccddeeffffeeddccbbaa99887766554433221100&#x27;</span>);\r\n</code></pre>\r\n</li>\r\n<li><p><code>SigHashType</code> - a sighash type / flag.</p>\r\n<pre><code class=\"language-javascript\"><span class=\"hljs-title class_\">SigHashType</span> s = <span class=\"hljs-title class_\">SigHashType</span>(b<span class=\"hljs-string\">&#x27;01&#x27;</span>);\r\n<span class=\"hljs-title class_\">SigHashType</span> s = <span class=\"hljs-title class_\">SigHash</span>.<span class=\"hljs-property\">ALL</span> | <span class=\"hljs-title class_\">SigHash</span>.<span class=\"hljs-property\">ANYONECANPAY</span>;\r\n</code></pre>\r\n</li>\r\n<li><p><code>SigHashPreimage</code> - a sighash preimage.</p>\r\n<pre><code class=\"language-javascript\"><span class=\"hljs-title class_\">SigHashPreimage</span> s = <span class=\"hljs-title class_\">SigHashPreimage</span>(b<span class=\"hljs-string\">&#x27;0100000028bcef7e73248aa273db19d73&#x27;</span>);\r\n</code></pre>\r\n</li>\r\n</ul>\r\n<h3 id=\"subtypes-of-int\">Subtypes of <code>int</code></h3>\r\n<ul>\r\n<li><code>PrivKey</code> - an EC private key.<pre><code class=\"language-javascript\"><span class=\"hljs-title class_\">PrivKey</span> privKey = <span class=\"hljs-title class_\">PrivKey</span>(<span class=\"hljs-number\">0x00112233445566778899aabbccddeeffffeeddccbbaa99887766554433221100</span>);\r\n</code></pre>\r\n</li>\r\n</ul>\r\n`\r\n\r\nexport default html\r\n","import React from \"react\"\r\nimport Example from \"../../components/Example\"\r\nimport html, { version, title, description } from \"./index.html\"\r\n\r\nfunction ExamplePage() {\r\n  return (\r\n    <Example\r\n      version={version}\r\n      title={title}\r\n      description={description}\r\n      html={html}\r\n    />\r\n  )\r\n}\r\n\r\nexport default ExamplePage\r\n","// metadata\r\nexport const version = \"0.1.0\"\r\nexport const title = \"Code Seperator\"\r\nexport const description = \"Code seperator in sCrypt\"\r\n\r\nconst html = `<p>Three or more consecutive <code>*</code> in a line insert an <a href=\"https://wiki.bitcoinsv.io/index.php/OP_CODESEPARATOR\">OP_CODESEPARATOR</a>. It is used to exclude what comes before (and including itself) it from being part of the signature.</p>\r\n<pre><code class=\"language-javascript\">contract <span class=\"hljs-variable constant_\">P2PKH_OCS</span> {\r\n    <span class=\"hljs-title class_\">Ripemd160</span> pubKeyHash;\r\n\r\n    public <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">unlock</span>(<span class=\"hljs-params\">Sig sig, PubKey pubKey</span>) {\r\n        <span class=\"hljs-comment\">// code separator 1</span>\r\n        ***\r\n        <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-title function_\">hash160</span>(pubKey) == <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">pubKeyHash</span>);\r\n        <span class=\"hljs-comment\">// code separator 2</span>\r\n        *****\r\n        <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-title function_\">checkSig</span>(sig, pubKey));\r\n    }\r\n}\r\n</code></pre>\r\n`\r\n\r\nexport default html\r\n","import React from \"react\"\r\nimport Example from \"../../components/Example\"\r\nimport html, { version, title, description } from \"./index.html\"\r\n\r\nfunction ExamplePage() {\r\n  return (\r\n    <Example\r\n      version={version}\r\n      title={title}\r\n      description={description}\r\n      html={html}\r\n    />\r\n  )\r\n}\r\n\r\nexport default ExamplePage\r\n","// metadata\r\nexport const version = \"0.1.0\"\r\nexport const title = \"Fair Coin Toss\"\r\nexport const description = \"Fair coin toss in sCrypt\"\r\n\r\nconst html = `<p>Alice and Bob decide to flip a coin, but they have no physical coin or they want to do it over the Internet. They can achieve fair coin tossing by following protocol on Bitcoin.</p>\r\n<ol>\r\n<li>Alice and Bob each locks X bitcoins in a smart contract shown below.</li>\r\n<li>They both reveal their secret number, which are XORâ€™d to determine if the coins lands on head or tail. Alice wins if it is head, otherwise Bob wins. Whoever wins takes all 2X bitcoins.</li>\r\n</ol>\r\n<pre><code class=\"language-javascript\">contract <span class=\"hljs-title class_\">CoinToss</span> {\r\n\r\n    <span class=\"hljs-title class_\">PubKey</span> alice;\r\n    <span class=\"hljs-title class_\">PubKey</span> bob;\r\n    <span class=\"hljs-comment\">// commitments</span>\r\n    <span class=\"hljs-title class_\">Sha256</span> aliceHash;\r\n    <span class=\"hljs-title class_\">Sha256</span> bobHash;\r\n\r\n    public <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">toss</span>(<span class=\"hljs-params\">bytes aliceNonce, bytes bobNonce, Sig sig</span>) {\r\n        <span class=\"hljs-comment\">// nonce can be of any length, as long as it&#x27;s resistant from brute-force attack</span>\r\n        <span class=\"hljs-comment\">// We use 256 bits / 32 bytes as an example here</span>\r\n        <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-title function_\">len</span>(aliceNonce) == <span class=\"hljs-number\">32</span>);\r\n        <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-title function_\">hash256</span>(aliceNonce) == <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">aliceHash</span>);\r\n        <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-title function_\">len</span>(bobNonce) == <span class=\"hljs-number\">32</span>);\r\n        <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-title function_\">hash256</span>(bobNonce) == <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">bobHash</span>);\r\n        \r\n        <span class=\"hljs-comment\">// last bit of XOR</span>\r\n        bytes head = (aliceNonce ^ bobNonce) &amp; b<span class=\"hljs-string\">&#x27;0000000000000000000000000000000000000000000000000000000000000001&#x27;</span>;\r\n\r\n        <span class=\"hljs-comment\">// head -&gt; Alice wins; tail -&gt; Bob wins</span>\r\n        <span class=\"hljs-title class_\">PubKey</span> winner = head ? <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">alice</span> : <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">bob</span>;\r\n\r\n        <span class=\"hljs-comment\">// winner takes all</span>\r\n        <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-title function_\">checkSig</span>(sig, winner));\r\n    }\r\n\r\n}\r\n</code></pre>\r\n`\r\n\r\nexport default html\r\n","import React from \"react\"\r\nimport Example from \"../../components/Example\"\r\nimport html, { version, title, description } from \"./index.html\"\r\n\r\nfunction ExamplePage() {\r\n  return (\r\n    <Example\r\n      version={version}\r\n      title={title}\r\n      description={description}\r\n      html={html}\r\n    />\r\n  )\r\n}\r\n\r\nexport default ExamplePage\r\n","// metadata\r\nexport const version = \"0.1.0\"\r\nexport const title = \"Const Variables\"\r\nexport const description = \"Const variables in sCrypt\"\r\n\r\nconst html = `<p>Variables declared const cannot be changed once initialized.</p>\r\n<pre><code class=\"language-javascript\">contract <span class=\"hljs-title class_\">Test</span> {\r\n    <span class=\"hljs-keyword\">const</span> int x;\r\n\r\n    <span class=\"hljs-title function_\">constructor</span>(<span class=\"hljs-params\">int x</span>) {\r\n        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">x</span> = x; <span class=\"hljs-comment\">// good, since this is initialization</span>\r\n    }\r\n\r\n    public <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">equal</span>(<span class=\"hljs-params\"><span class=\"hljs-keyword\">const</span> int y</span>) {\r\n        y = <span class=\"hljs-number\">1</span>; <span class=\"hljs-comment\">// &lt;-- error</span>\r\n\r\n        <span class=\"hljs-keyword\">const</span> int a = <span class=\"hljs-number\">36</span>;\r\n        a = <span class=\"hljs-number\">11</span>; <span class=\"hljs-comment\">// &lt;-- error</span>\r\n\r\n        <span class=\"hljs-built_in\">require</span>(y == <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">x</span>);\r\n    }\r\n}\r\n</code></pre>\r\n`\r\n\r\nexport default html\r\n","import React from \"react\"\r\nimport Example from \"../../components/Example\"\r\nimport html, { version, title, description } from \"./index.html\"\r\n\r\nfunction ExamplePage() {\r\n  return (\r\n    <Example\r\n      version={version}\r\n      title={title}\r\n      description={description}\r\n      html={html}\r\n    />\r\n  )\r\n}\r\n\r\nexport default ExamplePage\r\n","// metadata\r\nexport const version = \"0.1.0\"\r\nexport const title = \"Constructor\"\r\nexport const description = \"Constructors in sCrypt\"\r\n\r\nconst html = `<p>We can define a constructor in order to store variables in a contract (locking script).</p>\r\n<p>The constructor can be defined implicitly:</p>\r\n<pre><code class=\"language-javascript\">contract <span class=\"hljs-title class_\">Test</span> {\r\n    int x1;\r\n    bytes x2;\r\n    bool x3;\r\n\r\n    public <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">equal</span>(<span class=\"hljs-params\">int y</span>) {...}\r\n}\r\n</code></pre>\r\n<p>or explicitly:</p>\r\n<pre><code class=\"language-javascript\">contract <span class=\"hljs-title class_\">Test</span> {\r\n    int x1;\r\n    bytes x2;\r\n    bool x3;\r\n\r\n    <span class=\"hljs-title function_\">constructor</span>(<span class=\"hljs-params\">int x1, bytes x2, bool x3</span>) {\r\n        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">x1</span> = x1;\r\n        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">x2</span> = x2;\r\n        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">x3</span> = x3;\r\n    }\r\n\r\n    public <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">equal</span>(<span class=\"hljs-params\">int y</span>) {...}\r\n}\r\n</code></pre>\r\n<p>Both examples are functionally equivalent.</p>\r\n`\r\n\r\nexport default html\r\n","import React from \"react\"\r\nimport Example from \"../../components/Example\"\r\nimport html, { version, title, description } from \"./index.html\"\r\n\r\nfunction ExamplePage() {\r\n  return (\r\n    <Example\r\n      version={version}\r\n      title={title}\r\n      description={description}\r\n      html={html}\r\n    />\r\n  )\r\n}\r\n\r\nexport default ExamplePage\r\n","// metadata\r\nexport const version = \"0.1.0\"\r\nexport const title = \"Functions\"\r\nexport const description = \"Functions in sCrypt\"\r\n\r\nconst html = `<p>sCrypt enables developers to define their own functions as exemplified below:</p>\r\n<pre><code class=\"language-javascript\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">sum</span>(<span class=\"hljs-params\">int a, int b</span>): int {\r\n    <span class=\"hljs-keyword\">return</span> a + b;\r\n}\r\n</code></pre>\r\n<p>They are only visible within the contract, similar to <code>private</code> functions in Solidity.</p>\r\n<p>Every function must end with a <code>return</code> statement. Recursion is disallowed. A function cannot call itself in its body, either directly or indirectly.</p>\r\n`\r\n\r\nexport default html\r\n","import React from \"react\"\r\nimport Example from \"../../components/Example\"\r\nimport html, { version, title, description } from \"./index.html\"\r\n\r\nfunction ExamplePage() {\r\n  return (\r\n    <Example\r\n      version={version}\r\n      title={title}\r\n      description={description}\r\n      html={html}\r\n    />\r\n  )\r\n}\r\n\r\nexport default ExamplePage\r\n","// metadata\r\nexport const version = \"0.1.0\"\r\nexport const title = \"ECDSA-based Oracles\"\r\nexport const description = \"ECDSA-based oracles in sCrypt\"\r\n\r\nconst html = `<p><strong>P</strong> and <strong>p</strong> denote an oracleâ€™s public and private key, respectively. We first hash the data to be signed. The result is added with <strong>p</strong>, yielding a new private key <strong>pâ€™</strong>.</p>\r\n<blockquote>\r\n<p>x = sha256(data)\r\npâ€™ = p + x</p>\r\n</blockquote>\r\n<p>The corresponding public key, <strong>Pâ€™</strong>, can be derived as follows:</p>\r\n<blockquote>\r\n<p>Pâ€™ = pâ€™ * G = (p + x) * G = P + x * G</p>\r\n</blockquote>\r\n<p>The oracle uses the derived private key <strong>pâ€™</strong> to sign, instead of the original <strong>p</strong>. Since only the oracle knows <strong>p</strong>, only he knows <strong>pâ€™</strong> and can use it to sign against <strong>Pâ€™</strong>. To calculate <strong>Pâ€™</strong> in a contract, we need to calculate <strong>X = x * G</strong> and then add the result with <strong>P</strong>.</p>\r\n<p>In order to verify the correct public key sum efficiently, we also pass <strong>lambda</strong>, which is the gradient between <strong>P</strong> and <strong>X</strong>:</p>\r\n<blockquote>\r\n<p>n - secp256k1 curve order (often also denoted as p)</p>\r\n</blockquote>\r\n<blockquote>\r\n<p>lambda = ((Xy - Py) / (Xx - Px)) % n</p>\r\n</blockquote>\r\n<pre><code class=\"language-javascript\"><span class=\"hljs-keyword\">import</span> <span class=\"hljs-string\">\"ec.scrypt\"</span>;\r\n<span class=\"hljs-keyword\">import</span> <span class=\"hljs-string\">\"util.scrypt\"</span>;\r\n\r\n\r\nlibrary <span class=\"hljs-title class_\">Oracle</span> {\r\n\r\n    <span class=\"hljs-comment\">// Verify data is signed by the oracle with given public key.</span>\r\n    <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">verifyData</span>(<span class=\"hljs-params\">bytes data, \r\n                               Sig sig,\r\n                               PubKey P,\r\n                               PubKey derP,\r\n                               PubKey X,\r\n                               int lambda,\r\n                               SigHashPreimage txPreimage</span>) : bool {\r\n        <span class=\"hljs-comment\">// sha256 data</span>\r\n        bytes hash = <span class=\"hljs-title function_\">sha256</span>(data);\r\n\r\n        <span class=\"hljs-title class_\">PrivKey</span> x = <span class=\"hljs-title class_\">PrivKey</span>(<span class=\"hljs-title class_\">Util</span>.<span class=\"hljs-title function_\">fromLEUnsigned</span>(hash));\r\n\r\n        <span class=\"hljs-comment\">// verify X = x * G?</span>\r\n        <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-title class_\">Tx</span>.<span class=\"hljs-title function_\">checkPreimageAdvanced</span>(txPreimage, x, X, <span class=\"hljs-title class_\">Util</span>.<span class=\"hljs-property\">invK</span>, <span class=\"hljs-title class_\">Util</span>.<span class=\"hljs-property\">r</span>, <span class=\"hljs-title class_\">Util</span>.<span class=\"hljs-property\">rBigEndian</span>, <span class=\"hljs-title class_\">SigHashType</span>(<span class=\"hljs-title class_\">SigHash</span>.<span class=\"hljs-property\">ALL</span> | <span class=\"hljs-title class_\">SigHash</span>.<span class=\"hljs-property\">FORKID</span>)));\r\n\r\n        <span class=\"hljs-comment\">// verify P&#x27; = P + X</span>\r\n        <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-variable constant_\">EC</span>.<span class=\"hljs-title function_\">isPubKeySum</span>(P, X, lambda, derP));\r\n\r\n        <span class=\"hljs-comment\">// verify signature is from oracle, who knows p&#x27; = p + x</span>\r\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title function_\">checkSig</span>(sig, derP);\r\n\r\n    }\r\n\r\n}\r\n</code></pre>\r\n`\r\n\r\nexport default html\r\n","import React from \"react\"\r\nimport Example from \"../../components/Example\"\r\nimport html, { version, title, description } from \"./index.html\"\r\n\r\nfunction ExamplePage() {\r\n  return (\r\n    <Example\r\n      version={version}\r\n      title={title}\r\n      description={description}\r\n      html={html}\r\n    />\r\n  )\r\n}\r\n\r\nexport default ExamplePage\r\n","// metadata\r\nexport const version = \"0.1.0\"\r\nexport const title = \"Exit Function\"\r\nexport const description = \"Exit function in sCrypt\"\r\n\r\nconst html = `<p><code>exit(bool status)</code> terminates contract execution. If status is <code>true</code>, the contract succeeds; otherwise, it fails.</p>\r\n<pre><code class=\"language-javascript\">contract <span class=\"hljs-title class_\">TestPositiveEqual</span> {\r\n    int x;\r\n\r\n    <span class=\"hljs-title function_\">constructor</span>(<span class=\"hljs-params\">int x</span>) {\r\n        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">x</span> = x;\r\n    }\r\n\r\n    public <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">equal</span>(<span class=\"hljs-params\">int y</span>) {\r\n        <span class=\"hljs-keyword\">if</span> (y &lt;= <span class=\"hljs-number\">0</span>) {\r\n          <span class=\"hljs-title function_\">exit</span>(<span class=\"hljs-literal\">true</span>);\r\n        }\r\n        <span class=\"hljs-built_in\">require</span>(y == <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">x</span>);\r\n    }\r\n}\r\n</code></pre>\r\n`\r\n\r\nexport default html\r\n","import React from \"react\"\r\nimport Example from \"../../components/Example\"\r\nimport html, { version, title, description } from \"./index.html\"\r\n\r\nfunction ExamplePage() {\r\n  return (\r\n    <Example\r\n      version={version}\r\n      title={title}\r\n      description={description}\r\n      html={html}\r\n    />\r\n  )\r\n}\r\n\r\nexport default ExamplePage\r\n","// metadata\r\nexport const version = \"0.1.0\"\r\nexport const title = \"Generic Types\"\r\nexport const description = \"Generic types in sCrypt\"\r\n\r\nconst html = `<p>A generic type is a parameterized type. It allows a library to work over a variety of types rather than a single one. Users can consume these libraries and use their own concrete types.</p>\r\n<p>Generic types can only be declared at library level and used within the libraryâ€™s scope.</p>\r\n<pre><code class=\"language-javascript\">library <span class=\"hljs-title class_\">HashedMap</span>&lt;K, V&gt; {\r\n\r\n  <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">set</span>(<span class=\"hljs-params\">K k, V v, int idx</span>) {\r\n    ...\r\n  }\r\n\r\n}\r\n</code></pre>\r\n<p>Usage:</p>\r\n<pre><code class=\"language-javascript\"><span class=\"hljs-title class_\">HashedMap</span>&lt;bytes, int&gt; map = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">HashedMap</span>();\r\nmap.<span class=\"hljs-title function_\">set</span>(b<span class=\"hljs-string\">&#x27;01&#x27;</span>, <span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">0</span>);\r\n</code></pre>\r\n`\r\n\r\nexport default html\r\n","import React from \"react\"\r\nimport Example from \"../../components/Example\"\r\nimport html, { version, title, description } from \"./index.html\"\r\n\r\nfunction ExamplePage() {\r\n  return (\r\n    <Example\r\n      version={version}\r\n      title={title}\r\n      description={description}\r\n      html={html}\r\n    />\r\n  )\r\n}\r\n\r\nexport default ExamplePage\r\n","// metadata\r\nexport const version = \"0.1.0\"\r\nexport const title = \"Conway's Game of Life\"\r\nexport const description = \"Conway's Game of Life in sCrypt\"\r\n\r\nconst html = `<p>Rules:</p>\r\n<ol>\r\n<li>Any live cell with fewer than two live neighbours dies, as if by needs caused by underpopulation.</li>\r\n<li>Any live cell with more than three live neighbours dies, as if by overcrowding.</li>\r\n<li>Any live cell with two or three live neighbours lives, unchanged, to the next generation.</li>\r\n<li>Any dead cell with exactly three live neighbours cells will come to life.</li>\r\n</ol>\r\n<p>The generation of the game is stored as the <a href=\"https://by-example.scrypt.io/stateful-contract/\">state</a> of the contract.</p>\r\n<pre><code class=\"language-javascript\"><span class=\"hljs-keyword\">import</span> <span class=\"hljs-string\">\"arrayUtil.scrypt\"</span>;\r\n\r\n\r\n<span class=\"hljs-comment\">// Conway Game Of Life on a board of N * N</span>\r\ncontract <span class=\"hljs-title class_\">GameOfLife</span> {\r\n\r\n    <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">const</span> int N = <span class=\"hljs-number\">5</span>;\r\n    <span class=\"hljs-comment\">// effctively we play on a grid of (N+2) * (N+2) without handling boundary cells</span>\r\n    <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">const</span> int <span class=\"hljs-variable constant_\">BOARD_SIZE</span> = <span class=\"hljs-title class_\">GameOfLife</span>.<span class=\"hljs-property\">N</span> + <span class=\"hljs-number\">2</span>;\r\n    <span class=\"hljs-keyword\">static</span> bytes <span class=\"hljs-variable constant_\">LIVE</span> = b<span class=\"hljs-string\">&#x27;01&#x27;</span>;\r\n    <span class=\"hljs-keyword\">static</span> bytes <span class=\"hljs-variable constant_\">DEAD</span> = b<span class=\"hljs-string\">&#x27;00&#x27;</span>;\r\n    <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">const</span> int <span class=\"hljs-variable constant_\">LOOP_NEIGHBORS</span> = <span class=\"hljs-number\">3</span>;\r\n\r\n    @state\r\n    bytes board;\r\n\r\n    public <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">play</span>(<span class=\"hljs-params\">int amount, SigHashPreimage txPreimage</span>) {\r\n        <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-title class_\">Tx</span>.<span class=\"hljs-title function_\">checkPreimage</span>(txPreimage));\r\n\r\n        <span class=\"hljs-comment\">// make the move</span>\r\n        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">board</span> = <span class=\"hljs-title class_\">GameOfLife</span>.<span class=\"hljs-title function_\">evolve</span>(<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">board</span>);\r\n\r\n        <span class=\"hljs-comment\">// update state: next turn &amp; next board</span>\r\n        bytes scriptCode_ = <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">getStateScript</span>();\r\n        bytes output = <span class=\"hljs-title class_\">Utils</span>.<span class=\"hljs-title function_\">buildOutput</span>(scriptCode_, amount);\r\n        bytes outputs = output;\r\n\r\n        <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-title function_\">hash256</span>(outputs) == <span class=\"hljs-title class_\">SigHash</span>.<span class=\"hljs-title function_\">hashOutputs</span>(txPreimage));\r\n    }\r\n\r\n    <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">evolve</span>(<span class=\"hljs-params\">bytes oldBoard</span>) : bytes {\r\n        bytes newBoard = oldBoard;\r\n\r\n        int i = <span class=\"hljs-number\">1</span>;\r\n        loop (<span class=\"hljs-title class_\">GameOfLife</span>.<span class=\"hljs-property\">N</span>) {\r\n            int j = <span class=\"hljs-number\">1</span>;\r\n            loop (<span class=\"hljs-title class_\">GameOfLife</span>.<span class=\"hljs-property\">N</span>) {\r\n                bytes nextState = <span class=\"hljs-title class_\">GameOfLife</span>.<span class=\"hljs-title function_\">next</span>(oldBoard, i, j);\r\n                newBoard = <span class=\"hljs-title class_\">ArrayUtil</span>.<span class=\"hljs-title function_\">setElemAt</span>(newBoard, <span class=\"hljs-title class_\">GameOfLife</span>.<span class=\"hljs-title function_\">index</span>(i, j), nextState);\r\n\r\n                j++;\r\n            }\r\n\r\n            i++;\r\n        }\r\n\r\n        <span class=\"hljs-keyword\">return</span> newBoard;\r\n    }\r\n\r\n    <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">next</span>(<span class=\"hljs-params\">bytes oldBoard, int row, int col</span>) : bytes {\r\n        <span class=\"hljs-comment\">// number of neighbors alive</span>\r\n        int alive = <span class=\"hljs-number\">0</span>;\r\n\r\n        int i = -<span class=\"hljs-number\">1</span>;\r\n        loop (<span class=\"hljs-variable constant_\">LOOP_NEIGHBORS</span>) {\r\n            int j = -<span class=\"hljs-number\">1</span>;\r\n\r\n            loop (<span class=\"hljs-variable constant_\">LOOP_NEIGHBORS</span>) {\r\n                <span class=\"hljs-keyword\">if</span> (!(i == <span class=\"hljs-number\">0</span> &amp;&amp; j == <span class=\"hljs-number\">0</span>)) {\r\n                    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title class_\">ArrayUtil</span>.<span class=\"hljs-title function_\">getElemAt</span>(oldBoard, <span class=\"hljs-title class_\">GameOfLife</span>.<span class=\"hljs-title function_\">index</span>(row + i, col + j))) {\r\n                        alive++;\r\n                    }\r\n                }\r\n                j++;\r\n            }\r\n\r\n            i++;\r\n        }\r\n\r\n        bytes oldState = <span class=\"hljs-title class_\">ArrayUtil</span>.<span class=\"hljs-title function_\">getElemAt</span>(oldBoard, <span class=\"hljs-title class_\">GameOfLife</span>.<span class=\"hljs-title function_\">index</span>(row, col));\r\n        <span class=\"hljs-comment\">/* rule\r\n        1. Any live cell with two or three live neighbours survives.\r\n        2. Any dead cell with three live neighbours becomes a live cell.\r\n        3. All other live cells die in the next generation. Similarly, all other dead cells stay dead.\r\n        */</span>\r\n        <span class=\"hljs-keyword\">return</span> (alive == <span class=\"hljs-number\">3</span> || alive == <span class=\"hljs-number\">2</span> &amp;&amp; oldState == <span class=\"hljs-variable constant_\">LIVE</span>) ? <span class=\"hljs-variable constant_\">LIVE</span> : <span class=\"hljs-variable constant_\">DEAD</span>;\r\n    }\r\n\r\n    <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">index</span>(<span class=\"hljs-params\">int i, int j</span>) : int {\r\n        <span class=\"hljs-keyword\">return</span> i * <span class=\"hljs-title class_\">GameOfLife</span>.<span class=\"hljs-property\">BOARD_SIZE</span> + j;\r\n    }\r\n}\r\n</code></pre>\r\n`\r\n\r\nexport default html\r\n","import React from \"react\"\r\nimport Example from \"../../components/Example\"\r\nimport html, { version, title, description } from \"./index.html\"\r\n\r\nfunction ExamplePage() {\r\n  return (\r\n    <Example\r\n      version={version}\r\n      title={title}\r\n      description={description}\r\n      html={html}\r\n    />\r\n  )\r\n}\r\n\r\nexport default ExamplePage\r\n","// metadata\r\nexport const version = \"0.1.0\"\r\nexport const title = \"Hello World\"\r\nexport const description = \"Hello world in sCrypt\"\r\n\r\nconst html = `<p>The following is a simple contract written in sCrypt. It takes an integer <code>x</code> as a parameter for the constructor.\r\nIt exposes a single public function <code>equals</code>, which checks if the passed parameter is equal to <code>x</code>.\r\nOn a lower level this means, that we need to include an integer <code>y</code> in the unlocking script, that unlocks the output containing our smart contract (which stores <code>x</code>).</p>\r\n<pre><code class=\"language-javascript\">contract <span class=\"hljs-title class_\">HelloWorld</span> {\r\n    int x;\r\n\r\n    public <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">equals</span>(<span class=\"hljs-params\">int y</span>) {\r\n        <span class=\"hljs-built_in\">require</span>(y == <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">x</span>);\r\n    }\r\n}\r\n</code></pre>\r\n`\r\n\r\nexport default html\r\n","import React from \"react\"\r\nimport Example from \"../../components/Example\"\r\nimport html, { version, title, description } from \"./index.html\"\r\n\r\nfunction ExamplePage() {\r\n  return (\r\n    <Example\r\n      version={version}\r\n      title={title}\r\n      description={description}\r\n      html={html}\r\n    />\r\n  )\r\n}\r\n\r\nexport default ExamplePage\r\n","// metadata\r\nexport const version = \"0.1.0\"\r\nexport const title = \"If / Else\"\r\nexport const description = \"If / else statement in sCrypt\"\r\n\r\nconst html = `<p>An <code>if</code> statement can take a value of <code>bool</code>, <code>Ã¬nt</code> or <code>bytes</code>. An <code>int</code> value is interpreted to be <code>false</code> if and only if it equals <code>0</code>. A <code>bytes</code> value is interpreted as <code>false</code> if and only if every byte of its value equals <code>b&#39;00&#39;</code>. That includes empty <code>bytes</code> (<code>b&#39;&#39;</code>).</p>\r\n<pre><code class=\"language-javascript\"><span class=\"hljs-comment\">// Can be either:</span>\r\nbool cond = <span class=\"hljs-literal\">true</span>;\r\n<span class=\"hljs-comment\">// or:</span>\r\nbytes cond = b<span class=\"hljs-string\">&#x27;01&#x27;</span>;\r\n<span class=\"hljs-comment\">// or:</span>\r\nint cond = <span class=\"hljs-number\">1</span>;\r\n\r\n<span class=\"hljs-keyword\">if</span> (cond) {\r\n    ...\r\n} <span class=\"hljs-keyword\">else</span> {\r\n    ...\r\n}\r\n</code></pre>\r\n`\r\n\r\nexport default html\r\n","import React from \"react\"\r\nimport Example from \"../../components/Example\"\r\nimport html, { version, title, description } from \"./index.html\"\r\n\r\nfunction ExamplePage() {\r\n  return (\r\n    <Example\r\n      version={version}\r\n      title={title}\r\n      description={description}\r\n      html={html}\r\n    />\r\n  )\r\n}\r\n\r\nexport default ExamplePage\r\n","// metadata\r\nexport const version = \"0.1.0\"\r\nexport const title = \"Import\"\r\nexport const description = \"Import statement in sCrypt\"\r\n\r\nconst html = `<p>If we don&#39;t wan&#39;t to store multiple contracts, properties or libraries in the same file, we can split them up into many and use the <code>import</code> statement.</p>\r\n<p><em>hashPuzzle.scrypt</em>:</p>\r\n<pre><code class=\"language-javascript\">contract <span class=\"hljs-title class_\">HashPuzzle</span> {\r\n    <span class=\"hljs-title class_\">Ripemd160</span> hash;\r\n\r\n    public <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">spend</span>(<span class=\"hljs-params\">bytes preimage</span>) {\r\n        <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-title function_\">hash160</span>(preimage) == <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">hash</span>);\r\n    }\r\n}\r\n</code></pre>\r\n<p><em>p2pk.scrypt</em>:</p>\r\n<pre><code class=\"language-javascript\">contract <span class=\"hljs-title class_\">Pay2PubKey</span> {\r\n    <span class=\"hljs-title class_\">PubKey</span> pubKey;\r\n\r\n    public <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">spend</span>(<span class=\"hljs-params\">Sig sig</span>) {\r\n        <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-title function_\">checkSig</span>(sig, <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">pubKey</span>));\r\n    }\r\n}\r\n</code></pre>\r\n<p><em>p2pkh.scrypt</em>:</p>\r\n<pre><code class=\"language-javascript\"><span class=\"hljs-keyword\">import</span> <span class=\"hljs-string\">\"./hashPuzzle.scrypt\"</span>;\r\n<span class=\"hljs-keyword\">import</span> <span class=\"hljs-string\">\"./p2pk.scrypt\"</span>;\r\n\r\ncontract <span class=\"hljs-title class_\">Pay2PubKeyHash</span> {\r\n    <span class=\"hljs-title class_\">Ripemd160</span> pubKeyHash;\r\n\r\n    public <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">spend</span>(<span class=\"hljs-params\">Sig sig, PubKey pubKey</span>) {\r\n        <span class=\"hljs-title class_\">HashPuzzle</span> hp = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">HashPuzzle</span>(<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">pubKeyHash</span>);\r\n        <span class=\"hljs-built_in\">require</span>(hp.<span class=\"hljs-title function_\">spend</span>(pubKey));\r\n\r\n        <span class=\"hljs-title class_\">Pay2PubKey</span> p2pk = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Pay2PubKey</span>(pubKey);\r\n        <span class=\"hljs-built_in\">require</span>(p2pk.<span class=\"hljs-title function_\">spend</span>(sig));\r\n    }\r\n}\r\n</code></pre>\r\n<p><a href=\"https://scryptdoc.readthedocs.io/en/latest/contracts.html?highlight=import#id1\">Standard libraries</a> don&#39;t need to be imported explicitly.</p>\r\n`\r\n\r\nexport default html\r\n","import React from \"react\"\r\nimport Example from \"../../components/Example\"\r\nimport html, { version, title, description } from \"./index.html\"\r\n\r\nfunction ExamplePage() {\r\n  return (\r\n    <Example\r\n      version={version}\r\n      title={title}\r\n      description={description}\r\n      html={html}\r\n    />\r\n  )\r\n}\r\n\r\nexport default ExamplePage\r\n","// metadata\r\nexport const version = \"0.1.0\"\r\nexport const title = \"Inline Assembly\"\r\nexport const description = \"Inline assembly in sCrypt\"\r\n\r\nconst html = `<p>Script can be embedded directly into sCrypt source code using assembly representation. An sCrypt function can be written in Script and called like a regular sCrypt function.</p>\r\n<p>For a function to be written in Script, its entire body must be enclosed by an <code>asm</code> block. Function parameters are on top of the stack, in reverse order as declared.</p>\r\n<p>An example that emulates the behaviour of a regular P2PKH is shown below:</p>\r\n<pre><code class=\"language-javascript\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">p2pkh</span>(<span class=\"hljs-params\">Sig sig, PubKey pubKey</span>): bool {\r\n    asm {\r\n        op_dup\r\n        op_hash160\r\n        $pkh\r\n        op_equalverify\r\n        op_checksig\r\n    }\r\n}\r\n</code></pre>\r\n`\r\n\r\nexport default html\r\n","import React from \"react\"\r\nimport Example from \"../../components/Example\"\r\nimport html, { version, title, description } from \"./index.html\"\r\n\r\nfunction ExamplePage() {\r\n  return (\r\n    <Example\r\n      version={version}\r\n      title={title}\r\n      description={description}\r\n      html={html}\r\n    />\r\n  )\r\n}\r\n\r\nexport default ExamplePage\r\n","// metadata\r\nexport const version = \"0.1.0\"\r\nexport const title = \"Library\"\r\nexport const description = \"Libraries in sCrypt\"\r\n\r\nconst html = `<p>A library is the same with a contract, except it does not contain any public function. It is only intended to be imported by a contract or other libraries. It thus cannot be independently deployed and called. It is frequently used to group related constants and static functions.</p>\r\n<pre><code class=\"language-javascript\">library <span class=\"hljs-title class_\">Util</span> {\r\n    <span class=\"hljs-comment\">// number of bytes to denote some numeric value</span>\r\n    <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">const</span> int <span class=\"hljs-title class_\">DataLen</span> = <span class=\"hljs-number\">1</span>;\r\n    <span class=\"hljs-comment\">// number of bytes to denote length serialized state, including varint prefix (1 byte) + length (2 bytes), change length to 4 when you need PushData4</span>\r\n    <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">const</span> int <span class=\"hljs-title class_\">StateLen</span> = <span class=\"hljs-number\">3</span>;\r\n\r\n    <span class=\"hljs-comment\">// convert signed integer \"n\" to unsigned integer of \"l\" bytes, in little endian</span>\r\n    <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">toLEUnsigned</span>(<span class=\"hljs-params\">int n, int l</span>): bytes {\r\n        <span class=\"hljs-comment\">// one extra byte to accommodate possible negative sign byte</span>\r\n        bytes m = <span class=\"hljs-title function_\">num2bin</span>(n, l + <span class=\"hljs-number\">1</span>);\r\n        <span class=\"hljs-comment\">// remove sign byte</span>\r\n        <span class=\"hljs-keyword\">return</span> m[<span class=\"hljs-number\">0</span> : <span class=\"hljs-title function_\">len</span>(m) - <span class=\"hljs-number\">1</span>];\r\n    }\r\n}\r\n</code></pre>\r\n`\r\n\r\nexport default html\r\n","import React from \"react\"\r\nimport Example from \"../../components/Example\"\r\nimport html, { version, title, description } from \"./index.html\"\r\n\r\nfunction ExamplePage() {\r\n  return (\r\n    <Example\r\n      version={version}\r\n      title={title}\r\n      description={description}\r\n      html={html}\r\n    />\r\n  )\r\n}\r\n\r\nexport default ExamplePage\r\n","// metadata\r\nexport const version = \"0.1.0\"\r\nexport const title = \"Loops\"\r\nexport const description = \"Loops in sCrypt\"\r\n\r\nconst html = `<p>sCrypt allows looping by repeating the loop body a specified number of times. For example, the loop</p>\r\n<pre><code class=\"language-javascript\">loop (<span class=\"hljs-number\">10</span>) {\r\n    x = x * <span class=\"hljs-number\">2</span>;\r\n}\r\n</code></pre>\r\n<p>gets unrolled to</p>\r\n<pre><code class=\"language-javascript\">x = x * <span class=\"hljs-number\">2</span>;\r\nx = x * <span class=\"hljs-number\">2</span>;\r\nx = x * <span class=\"hljs-number\">2</span>;\r\nx = x * <span class=\"hljs-number\">2</span>;\r\nx = x * <span class=\"hljs-number\">2</span>;\r\nx = x * <span class=\"hljs-number\">2</span>;\r\nx = x * <span class=\"hljs-number\">2</span>;\r\nx = x * <span class=\"hljs-number\">2</span>;\r\nx = x * <span class=\"hljs-number\">2</span>;\r\nx = x * <span class=\"hljs-number\">2</span>;\r\n</code></pre>\r\n<p>Because loop unrolling is done at compile time, the loop count must be a compile time constant.</p>\r\n<p>We can also access the loop index by defining an induction variable:</p>\r\n<pre><code class=\"language-javascript\"><span class=\"hljs-comment\">// int[3][4] matrix;</span>\r\nloop (<span class=\"hljs-number\">3</span>) : i {\r\n    loop (<span class=\"hljs-number\">4</span>) : j {\r\n        matrix[i][j] = i + j;\r\n    }\r\n}\r\n</code></pre>\r\n<p>Loops in sCrypt do not support a break statement, but we can simulate one using conditionals:</p>\r\n<pre><code class=\"language-javascript\">bool done = <span class=\"hljs-literal\">false</span>;\r\nloop (<span class=\"hljs-number\">3</span>) {\r\n    <span class=\"hljs-keyword\">if</span> (!done) {\r\n        x = x * <span class=\"hljs-number\">2</span>;\r\n        <span class=\"hljs-keyword\">if</span> (x &gt;= <span class=\"hljs-number\">8</span>) {\r\n            done = <span class=\"hljs-literal\">true</span>;\r\n        }\r\n    }\r\n}\r\n</code></pre>\r\n`\r\n\r\nexport default html\r\n","import React from \"react\"\r\nimport Example from \"../../components/Example\"\r\nimport html, { version, title, description } from \"./index.html\"\r\n\r\nfunction ExamplePage() {\r\n  return (\r\n    <Example\r\n      version={version}\r\n      title={title}\r\n      description={description}\r\n      html={html}\r\n    />\r\n  )\r\n}\r\n\r\nexport default ExamplePage\r\n","// metadata\r\nexport const version = \"0.1.0\"\r\nexport const title = \"Multiparty Hash Puzzles\"\r\nexport const description = \"Multiparty hash puzzles in sCrypt\"\r\n\r\nconst html = `<p>In a hash puzzle contract, the spender has to provide a preimage <code>x</code> that hashes to a predefined value <code>y</code> to unlock a UTXO. It can be\r\nextended to multiple parties so that multiple preimages have to be provided such that <code>y1 = H(x1)</code>, <code>y2 = H(x2)</code>, ..., <code>yN = H(xN)</code>. Below shows an examples of three parties.</p>\r\n<pre><code class=\"language-javascript\">contract <span class=\"hljs-title class_\">MultiPartyHashPuzzles</span> {\r\n    <span class=\"hljs-title class_\">Sha256</span> hash1;   <span class=\"hljs-comment\">// hash1 = b&#x27;136523B9FEA2B7321817B28E254A81A683D319D715CEE2360D051360A272DD4C&#x27;</span>\r\n    <span class=\"hljs-title class_\">Sha256</span> hash2;   <span class=\"hljs-comment\">// hash2 = b&#x27;E222E30CF5C982E5F6251D755B0B16F608ACE631EB3BA9BDAF624FF1651ABF98&#x27;</span>\r\n    <span class=\"hljs-title class_\">Sha256</span> hash3;   <span class=\"hljs-comment\">// hash3 = b&#x27;2A79F5D9F8B3770A59F91E0E9B4C379F7C7A32353AA6450065E43A8616EF5722&#x27;</span>\r\n    \r\n    <span class=\"hljs-comment\">// preimage1: e.g., \"bsv\" -&gt; b&#x27;627376&#x27;</span>\r\n    <span class=\"hljs-comment\">// preimage2: e.g., \"sCrypt\" -&gt; b&#x27;734372797074&#x27;</span>\r\n    <span class=\"hljs-comment\">// preimage3: e.g., \"IDE\" -&gt; b&#x27;494445&#x27;</span>\r\n    public <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">unlock</span>(<span class=\"hljs-params\">bytes preimage1, bytes preimage2, bytes preimage3</span>) {\r\n        <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-title function_\">sha256</span>(preimage1) == <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">hash1</span>);\r\n        <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-title function_\">sha256</span>(preimage2) == <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">hash2</span>);\r\n        <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-title function_\">sha256</span>(preimage3) == <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">hash3</span>);\r\n    }\r\n}\r\n</code></pre>\r\n<p>The above solution is problematic when <code>N</code> is large since all <code>N</code> hashes have to be included in the locking script, bloating the transaction. \r\nInstead, we can combine all <code>y</code>&#39;s into a single y such that <code>y = H(H(y1 || y2) || y3)</code> as shown below.</p>\r\n<pre><code class=\"language-javascript\">contract <span class=\"hljs-title class_\">MultiPartyHashPuzzlesCompact</span> {\r\n    <span class=\"hljs-comment\">// only 1 hash needs to go into the locking script, saving space</span>\r\n    <span class=\"hljs-title class_\">Sha256</span> combinedHash; <span class=\"hljs-comment\">// combinedHash = b&#x27;C9392767AB23CEFF09D207B9223C0C26F01A7F81F8C187A821A4266F8020064D&#x27;</span>\r\n\r\n    <span class=\"hljs-comment\">// preimage1: e.g., \"bsv\" -&gt; b&#x27;627376&#x27;</span>\r\n    <span class=\"hljs-comment\">// preimage2: e.g., \"sCrypt\" -&gt; b&#x27;734372797074&#x27;</span>\r\n    <span class=\"hljs-comment\">// preimage3: e.g., \"IDE\" -&gt; b&#x27;494445&#x27;</span>\r\n    public <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">unlock</span>(<span class=\"hljs-params\">bytes preimage1, bytes preimage2, bytes preimage3</span>) {\r\n        <span class=\"hljs-title class_\">Sha256</span> hash1 = <span class=\"hljs-title function_\">sha256</span>(preimage1);\r\n        <span class=\"hljs-title class_\">Sha256</span> hash2 = <span class=\"hljs-title function_\">sha256</span>(preimage2);\r\n        <span class=\"hljs-title class_\">Sha256</span> hash3 = <span class=\"hljs-title function_\">sha256</span>(preimage3);\r\n        <span class=\"hljs-title class_\">Sha256</span> hash12 = <span class=\"hljs-title function_\">sha256</span>(hash1 + hash2);\r\n        <span class=\"hljs-title class_\">Sha256</span> hash123 = <span class=\"hljs-title function_\">sha256</span>(hash12 + hash3);\r\n\r\n        <span class=\"hljs-built_in\">require</span>(hash123 == <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">combinedHash</span>);\r\n    }\r\n}\r\n</code></pre>\r\n`\r\n\r\nexport default html\r\n","import React from \"react\"\r\nimport Example from \"../../components/Example\"\r\nimport html, { version, title, description } from \"./index.html\"\r\n\r\nfunction ExamplePage() {\r\n  return (\r\n    <Example\r\n      version={version}\r\n      title={title}\r\n      description={description}\r\n      html={html}\r\n    />\r\n  )\r\n}\r\n\r\nexport default ExamplePage\r\n","// metadata\r\nexport const version = \"0.1.0\"\r\nexport const title = \"Operators\"\r\nexport const description = \"Operators in sCrypt\"\r\n\r\nconst html = `<table>\r\n<thead>\r\n<tr>\r\n<th><strong>Precedence</strong></th>\r\n<th><strong>Operators</strong></th>\r\n<th><strong>Associativity</strong></th>\r\n</tr>\r\n</thead>\r\n<tbody><tr>\r\n<td>1</td>\r\n<td><code>- ! ~</code></td>\r\n<td>right</td>\r\n</tr>\r\n<tr>\r\n<td>2</td>\r\n<td><code>* / %</code></td>\r\n<td>left</td>\r\n</tr>\r\n<tr>\r\n<td>3</td>\r\n<td><code>+ -</code></td>\r\n<td>left</td>\r\n</tr>\r\n<tr>\r\n<td>4</td>\r\n<td><code>&lt;&lt; &gt;&gt;</code></td>\r\n<td>left</td>\r\n</tr>\r\n<tr>\r\n<td>5</td>\r\n<td><code>&lt; &lt;= &gt; &gt;=</code></td>\r\n<td>left</td>\r\n</tr>\r\n<tr>\r\n<td>6</td>\r\n<td><code>== !=</code></td>\r\n<td>left</td>\r\n</tr>\r\n<tr>\r\n<td>7</td>\r\n<td><code>&amp;</code></td>\r\n<td>left</td>\r\n</tr>\r\n<tr>\r\n<td>8</td>\r\n<td><code>^</code></td>\r\n<td>left</td>\r\n</tr>\r\n<tr>\r\n<td>9</td>\r\n<td><code>|</code></td>\r\n<td>left</td>\r\n</tr>\r\n<tr>\r\n<td>10</td>\r\n<td><code>&amp;&amp;</code></td>\r\n<td>left</td>\r\n</tr>\r\n<tr>\r\n<td>11</td>\r\n<td><code>||</code></td>\r\n<td>left</td>\r\n</tr>\r\n<tr>\r\n<td>12</td>\r\n<td><code>? :</code></td>\r\n<td>right</td>\r\n</tr>\r\n</tbody></table>\r\n<p>Operators <code>&amp;&amp;</code>, <code>||</code>, and <code>? :</code> use <a href=\"https://en.wikipedia.org/wiki/Short-circuit_evaluation\">short-circuit evaluation</a>.</p>\r\n`\r\n\r\nexport default html\r\n","import React from \"react\"\r\nimport Example from \"../../components/Example\"\r\nimport html, { version, title, description } from \"./index.html\"\r\n\r\nfunction ExamplePage() {\r\n  return (\r\n    <Example\r\n      version={version}\r\n      title={title}\r\n      description={description}\r\n      html={html}\r\n    />\r\n  )\r\n}\r\n\r\nexport default ExamplePage\r\n","// metadata\r\nexport const version = \"0.1.0\"\r\nexport const title = \"P2PKH\"\r\nexport const description = \"Pay to Public Key Hash (P2PKH) in sCrypt\"\r\n\r\nconst html = `<p>Pay-to-PubKey-Hash (<a href=\"https://learnmeabitcoin.com/guide/p2pkh\">P2PKH</a>) contract is used to send bitcoins to a bitcoin address. It is the most common contract on the Bitcoin network. Such contracts are unlocked by the public key and a signature created by the corresponding private key.</p>\r\n<pre><code class=\"language-javascript\">contract <span class=\"hljs-variable constant_\">P2PKH</span> {\r\n    <span class=\"hljs-title class_\">Ripemd160</span> pubKeyHash;\r\n\r\n    public <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">unlock</span>(<span class=\"hljs-params\">Sig sig, PubKey pubKey</span>) {\r\n        <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-title function_\">hash160</span>(pubKey) == <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">pubKeyHash</span>);\r\n        <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-title function_\">checkSig</span>(sig, pubKey));\r\n    }\r\n}\r\n</code></pre>\r\n`\r\n\r\nexport default html\r\n","import React from \"react\"\r\nimport Example from \"../../components/Example\"\r\nimport html, { version, title, description } from \"./index.html\"\r\n\r\nfunction ExamplePage() {\r\n  return (\r\n    <Example\r\n      version={version}\r\n      title={title}\r\n      description={description}\r\n      html={html}\r\n    />\r\n  )\r\n}\r\n\r\nexport default ExamplePage\r\n","// metadata\r\nexport const version = \"0.1.0\"\r\nexport const title = \"Public Function\"\r\nexport const description = \"Public functions in sCrypt\"\r\n\r\nconst html = `<p>A public function is a function, that get&#39;s invoked by an unlocking script. The body of the function corresponds to the locking script of the contract and the functions arguments to the unlocking script. A contract must have at least one public function.</p>\r\n<p>Public functions don&#39;t return any value and must end with a call to <code>require()</code>. If all calls to <code>require()</code> inside the function evaluate as true, then the contract can be redeemed.</p>\r\n<p>A public function can be regarded as a mathematical boolean function. <code>f</code> is the function body and <code>x</code> the function arguments. A contract call succeeds if and only if <code>f(x)</code> returns true.</p>\r\n<h2 id=\"multiple-public-functions\">Multiple Public Functions</h2>\r\n<p>A contract can have multiple public functions, representing different ways to fulfill a contract. Only one of the public functions can be called at a time. In this case, the last operator of  the unlocking script has to be the index of the public function called, starting from <code>0</code>. For example, if public function <code>larger</code> is called, unlocking script of <code>y 2</code> can fulfill the contract below, in which 2 is the public function index.</p>\r\n<pre><code class=\"language-javascript\">contract <span class=\"hljs-title class_\">Test</span> {\r\n    int x;\r\n\r\n    public <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">equal</span>(<span class=\"hljs-params\">int y</span>) {\r\n        <span class=\"hljs-built_in\">require</span>(y == <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">x</span>);\r\n    }\r\n\r\n    public <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">smaller</span>(<span class=\"hljs-params\">int y</span>) {\r\n        <span class=\"hljs-built_in\">require</span>(y &lt; <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">x</span>);\r\n    }\r\n\r\n    public <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">larger</span>(<span class=\"hljs-params\">int y</span>) {\r\n        <span class=\"hljs-built_in\">require</span>(y &gt; <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">x</span>);\r\n    }\r\n}\r\n</code></pre>\r\n`\r\n\r\nexport default html\r\n","import React from \"react\"\r\nimport Example from \"../../components/Example\"\r\nimport html, { version, title, description } from \"./index.html\"\r\n\r\nfunction ExamplePage() {\r\n  return (\r\n    <Example\r\n      version={version}\r\n      title={title}\r\n      description={description}\r\n      html={html}\r\n    />\r\n  )\r\n}\r\n\r\nexport default ExamplePage\r\n","// metadata\r\nexport const version = \"0.1.0\"\r\nexport const title = \"R-Puzzle\"\r\nexport const description = \"R-Puzzle contract in sCrypt\"\r\n\r\nconst html = `<p>In a <a href=\"https://wiki.bitcoinsv.io/index.php/R-Puzzles\">R-Puzzle</a>, an ephemeral key <code>k</code> is never revealed. Instead <code>r</code>, which is the x-coordinate of its corresponding public key, is revealed and from <code>r</code> along with the signature, the knowledge of <code>k</code> can be proven using <code>checkSig()</code>.</p>\r\n<pre><code class=\"language-javascript\">contract RPuzzle {\r\n    <span class=\"hljs-title class_\">Ripemd160</span> rhash;\r\n\r\n    <span class=\"hljs-title function_\">constructor</span>(<span class=\"hljs-params\">Ripemd160 rhash</span>) {\r\n        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">rhash</span> = rhash;\r\n    }\r\n\r\n    <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">getSigR</span>(<span class=\"hljs-params\">Sig sigr</span>): bytes {\r\n        bytes lenBytes = sigr[<span class=\"hljs-number\">3</span>:<span class=\"hljs-number\">4</span>];\r\n        int len = <span class=\"hljs-title function_\">unpack</span>(lenBytes);\r\n        bytes r = sigr[<span class=\"hljs-number\">4</span>:<span class=\"hljs-number\">4</span>+len];\r\n        <span class=\"hljs-keyword\">return</span> r;\r\n    }\r\n\r\n    public <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">unlock</span>(<span class=\"hljs-params\">Sig sig, PubKey pubKey, Sig sigr</span>) {\r\n        <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">rhash</span> == <span class=\"hljs-title function_\">hash160</span>(<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">getSigR</span>(sigr)));\r\n        <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-title function_\">checkSig</span>(sigr, pubKey));\r\n        <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-title function_\">checkSig</span>(sig, pubKey));\r\n    }\r\n}\r\n</code></pre>\r\n`\r\n\r\nexport default html\r\n","import React from \"react\"\r\nimport Example from \"../../components/Example\"\r\nimport html, { version, title, description } from \"./index.html\"\r\n\r\nfunction ExamplePage() {\r\n  return (\r\n    <Example\r\n      version={version}\r\n      title={title}\r\n      description={description}\r\n      html={html}\r\n    />\r\n  )\r\n}\r\n\r\nexport default ExamplePage\r\n","// metadata\r\nexport const version = \"0.1.0\"\r\nexport const title = \"Rabin Signatures\"\r\nexport const description = \"Rabin signatures in sCrypt\"\r\n\r\nconst html = `<p>A <a href=\"https://en.wikipedia.org/wiki/Rabin_signature_algorithm\">Rabin signature</a> is an alternative form of digital signature to ECDSA used in Bitcoin. It allows for efficient on-chain signature verification and is often used for signing and verifying oracle data.</p>\r\n<pre><code class=\"language-javascript\">contract <span class=\"hljs-title class_\">RabinSignature</span> {\r\n\r\n    public <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">verifySig</span>(<span class=\"hljs-params\">int sig, bytes msg, bytes padding, int n</span>) {\r\n        int h = <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">fromLEUnsigned</span>(<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">hash</span>(msg + padding));\r\n        <span class=\"hljs-built_in\">require</span>((sig * sig) % n == h % n);\r\n    }\r\n\r\n    <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">hash</span>(<span class=\"hljs-params\">bytes x</span>): bytes {\r\n        <span class=\"hljs-comment\">// expand into 512 bit hash</span>\r\n        bytes hx = <span class=\"hljs-title function_\">sha256</span>(x);\r\n        int idx = <span class=\"hljs-title function_\">len</span>(hx) / <span class=\"hljs-number\">2</span>;\r\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title function_\">sha256</span>(hx[:idx]) + <span class=\"hljs-title function_\">sha256</span>(hx[<span class=\"hljs-attr\">idx</span>:]);\r\n    }\r\n\r\n    <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">fromLEUnsigned</span>(<span class=\"hljs-params\">bytes b</span>): int {\r\n        <span class=\"hljs-comment\">// append positive sign byte. This does not hurt even when sign bit is already positive</span>\r\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title function_\">unpack</span>(b + b<span class=\"hljs-string\">&#x27;00&#x27;</span>);\r\n    }\r\n\r\n}\r\n</code></pre>\r\n`\r\n\r\nexport default html\r\n","import React from \"react\"\r\nimport Example from \"../../components/Example\"\r\nimport html, { version, title, description } from \"./index.html\"\r\n\r\nfunction ExamplePage() {\r\n  return (\r\n    <Example\r\n      version={version}\r\n      title={title}\r\n      description={description}\r\n      html={html}\r\n    />\r\n  )\r\n}\r\n\r\nexport default ExamplePage\r\n","// metadata\r\nexport const version = \"0.1.0\"\r\nexport const title = \"Require\"\r\nexport const description = \"Require function in sCrypt\"\r\n\r\nconst html = `<p>The <code>require()</code> function specifies terms/conditions of a contract. It consumes a boolean condition. If the condition is not met, the contract will abort execution and fail. Otherwise, the execution will resume.</p>\r\n<p>Every public function must end with a <code>require()</code> call.</p>\r\n<pre><code class=\"language-javascript\">contract <span class=\"hljs-title class_\">Test</span> {\r\n    int x;\r\n\r\n    public <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">equal</span>(<span class=\"hljs-params\">int y</span>) {\r\n        <span class=\"hljs-built_in\">require</span>(y == <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">x</span>);\r\n    }\r\n}\r\n</code></pre>\r\n`\r\n\r\nexport default html\r\n","import React from \"react\"\r\nimport Example from \"../../components/Example\"\r\nimport html, { version, title, description } from \"./index.html\"\r\n\r\nfunction ExamplePage() {\r\n  return (\r\n    <Example\r\n      version={version}\r\n      title={title}\r\n      description={description}\r\n      html={html}\r\n    />\r\n  )\r\n}\r\n\r\nexport default ExamplePage\r\n","// metadata\r\nexport const version = \"0.1.0\"\r\nexport const title = \"Rule 110\"\r\nexport const description = \"Rule 110 in sCrypt\"\r\n\r\nconst html = `<p>The Rule 110 cellular automaton is a 1-dimensional elementary CA, where a linear pattern of 0s and 1s evolves according to a simple set of rules. Whether a point in the pattern will be 0 or 1 in the new generation depends on its current value and on those of its two neighbors. The Rule 110 has the following set of rules:</p>\r\n<table>\r\n<thead>\r\n<tr>\r\n<th>Current pattern</th>\r\n<th>111</th>\r\n<th>110</th>\r\n<th>101</th>\r\n<th>100</th>\r\n<th>011</th>\r\n<th>010</th>\r\n<th>001</th>\r\n<th>000</th>\r\n</tr>\r\n</thead>\r\n<tbody><tr>\r\n<td>New state for center cell</td>\r\n<td>0</td>\r\n<td>1</td>\r\n<td>1</td>\r\n<td>0</td>\r\n<td>1</td>\r\n<td>1</td>\r\n<td>1</td>\r\n<td>0</td>\r\n</tr>\r\n</tbody></table>\r\n<pre><code class=\"language-javascript\">contract rule110 {\r\n    <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">const</span> int N = <span class=\"hljs-number\">5</span>; <span class=\"hljs-comment\">//size of board</span>\r\n    <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">const</span> int <span class=\"hljs-variable constant_\">N2</span> = <span class=\"hljs-number\">3</span>; <span class=\"hljs-comment\">//size of board</span>\r\n    <span class=\"hljs-keyword\">static</span> bytes <span class=\"hljs-variable constant_\">LIVE</span> = b<span class=\"hljs-string\">&#x27;01&#x27;</span>;\r\n    <span class=\"hljs-keyword\">static</span> bytes <span class=\"hljs-variable constant_\">DEAD</span> = b<span class=\"hljs-string\">&#x27;00&#x27;</span>;\r\n\r\n    @state\r\n    bytes board;\r\n    public <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">play</span>(<span class=\"hljs-params\">int amount, SigHashPreimage txPreimage</span>) {\r\n        <span class=\"hljs-title class_\">SigHashType</span> sigHashType = <span class=\"hljs-title class_\">SigHash</span>.<span class=\"hljs-property\">ANYONECANPAY</span> | <span class=\"hljs-title class_\">SigHash</span>.<span class=\"hljs-property\">SINGLE</span> | <span class=\"hljs-title class_\">SigHash</span>.<span class=\"hljs-property\">FORKID</span>;\r\n        <span class=\"hljs-comment\">// this ensures the preimage is for the current tx</span>\r\n        <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-title class_\">Tx</span>.<span class=\"hljs-title function_\">checkPreimageSigHashType</span>(txPreimage, sigHashType));\r\n\r\n        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">board</span> = <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">computeNewBoard</span>(<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">board</span>);\r\n\r\n        bytes newScriptCode = <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">getStateScript</span>();\r\n        bytes output = <span class=\"hljs-title class_\">Utils</span>.<span class=\"hljs-title function_\">buildOutput</span>(newScriptCode, amount);\r\n\r\n        <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-title function_\">hash256</span>(output) == <span class=\"hljs-title class_\">SigHash</span>.<span class=\"hljs-title function_\">hashOutputs</span>(txPreimage));\r\n    }\r\n\r\n    <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">computeNewBoard</span>(<span class=\"hljs-params\">bytes board</span>) : bytes {\r\n        bytes res = b<span class=\"hljs-string\">&#x27;&#x27;</span>;\r\n        res += <span class=\"hljs-variable constant_\">DEAD</span>;\r\n        loop (<span class=\"hljs-variable constant_\">N2</span>) : i {\r\n            res += <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">newState</span>(board[i : i + <span class=\"hljs-number\">3</span>]);\r\n        }\r\n        res += <span class=\"hljs-variable constant_\">DEAD</span>;\r\n        <span class=\"hljs-keyword\">return</span> res;\r\n    }\r\n    \r\n    <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">newState</span>(<span class=\"hljs-params\">bytes arg</span>) : bytes {\r\n        <span class=\"hljs-comment\">/*\r\n          Current pattern            111    110    101    100    011    010    001    000\r\n          New state for center cell     0     1     1    0     1     1     1     0\r\n        */</span>\r\n        bytes a = arg[<span class=\"hljs-number\">0</span> : <span class=\"hljs-number\">1</span>];\r\n        bytes b = arg[<span class=\"hljs-number\">1</span> : <span class=\"hljs-number\">2</span>];\r\n        bytes c = arg[<span class=\"hljs-number\">2</span> : <span class=\"hljs-number\">3</span>];\r\n        bytes res = <span class=\"hljs-variable constant_\">LIVE</span>;\r\n        <span class=\"hljs-keyword\">if</span> (a == <span class=\"hljs-variable constant_\">LIVE</span> &amp;&amp; b == <span class=\"hljs-variable constant_\">LIVE</span> &amp;&amp; c == <span class=\"hljs-variable constant_\">LIVE</span>) {\r\n            res = <span class=\"hljs-variable constant_\">DEAD</span>;\r\n        }\r\n        <span class=\"hljs-keyword\">if</span> (a == <span class=\"hljs-variable constant_\">LIVE</span> &amp;&amp; b == <span class=\"hljs-variable constant_\">DEAD</span> &amp;&amp; c == <span class=\"hljs-variable constant_\">DEAD</span>) {\r\n            res = <span class=\"hljs-variable constant_\">DEAD</span>;\r\n        }\r\n        <span class=\"hljs-keyword\">if</span> (a == <span class=\"hljs-variable constant_\">DEAD</span> &amp;&amp; b == <span class=\"hljs-variable constant_\">DEAD</span> &amp;&amp; c == <span class=\"hljs-variable constant_\">DEAD</span>) {\r\n            res = <span class=\"hljs-variable constant_\">DEAD</span>;\r\n        }\r\n        <span class=\"hljs-keyword\">return</span> res;\r\n    }\r\n}\r\n</code></pre>\r\n`\r\n\r\nexport default html\r\n","import React from \"react\"\r\nimport Example from \"../../components/Example\"\r\nimport html, { version, title, description } from \"./index.html\"\r\n\r\nfunction ExamplePage() {\r\n  return (\r\n    <Example\r\n      version={version}\r\n      title={title}\r\n      description={description}\r\n      html={html}\r\n    />\r\n  )\r\n}\r\n\r\nexport default ExamplePage\r\n","// metadata\r\nexport const version = \"0.1.0\"\r\nexport const title = \"Schnoor Signatures\"\r\nexport const description = \"Schnoor Signatures in sCrypt\"\r\n\r\nconst html = `<p>The <a href=\"https://en.wikipedia.org/wiki/Schnorr_signature\">Schnorr signature algorithm</a> is an alternative algorithm to the ECDSA algorithm currently used for signatures in Bitcoin. One key advantage is that multiple signatures, either in one input or multiple inputs of the same transaction, can be aggregated into a single signature.</p>\r\n<pre><code class=\"language-javascript\"><span class=\"hljs-keyword\">import</span> <span class=\"hljs-string\">\"ec.scrypt\"</span>;\r\n\r\n\r\n<span class=\"hljs-comment\">// Schnorr signatures verification for secp256k1</span>\r\ncontract <span class=\"hljs-title class_\">Schnorr</span> {\r\n\r\n    public <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">verify</span>(<span class=\"hljs-params\">Sig sig, PubKey pubKey, bytes msg, int lambda,\r\n        Point R, PointMulAux rAux,\r\n        Point E, PointMulAux eAux,\r\n        Point S, PointMulAux sAux</span>) {\r\n\r\n        int r = <span class=\"hljs-title function_\">unpack</span>(sig[ : <span class=\"hljs-number\">32</span>]);\r\n        int s = <span class=\"hljs-title function_\">unpack</span>(sig[<span class=\"hljs-number\">32</span> : <span class=\"hljs-number\">64</span>]);\r\n\r\n        <span class=\"hljs-comment\">// R = r * G</span>\r\n        <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-variable constant_\">EC</span>.<span class=\"hljs-title function_\">isMul</span>(<span class=\"hljs-variable constant_\">EC</span>.<span class=\"hljs-property\">G</span>, r, R, rAux));\r\n\r\n        <span class=\"hljs-comment\">// e = Hash(r || P || msg)</span>\r\n        int e = <span class=\"hljs-title function_\">unpack</span>(<span class=\"hljs-title function_\">sha256</span>(<span class=\"hljs-title function_\">pack</span>(r) + pubKey + msg));\r\n\r\n        <span class=\"hljs-comment\">// E = e * P</span>\r\n        <span class=\"hljs-title class_\">Point</span> P = <span class=\"hljs-title function_\">pubKey2Point</span>(pubKey);\r\n        <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-variable constant_\">EC</span>.<span class=\"hljs-title function_\">isMul</span>(P, e, E, eAux));\r\n\r\n        <span class=\"hljs-comment\">// S = s * G</span>\r\n        <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-variable constant_\">EC</span>.<span class=\"hljs-title function_\">isMul</span>(<span class=\"hljs-variable constant_\">EC</span>.<span class=\"hljs-property\">G</span>, s, S, sAux));\r\n\r\n        <span class=\"hljs-comment\">// S == R + H?</span>\r\n        <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-variable constant_\">EC</span>.<span class=\"hljs-title function_\">isSum</span>(R, E, lambda, S));\r\n    }\r\n\r\n    <span class=\"hljs-comment\">// convert public key to a point, assuming it&#x27;s uncompressed</span>\r\n    <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">pubKey2Point</span>(<span class=\"hljs-params\">PubKey pubKey</span>) : <span class=\"hljs-title class_\">Point</span> {\r\n        <span class=\"hljs-built_in\">require</span>(pubKey[: <span class=\"hljs-number\">1</span>] == b<span class=\"hljs-string\">&#x27;04&#x27;</span>);\r\n        <span class=\"hljs-keyword\">return</span> { <span class=\"hljs-title function_\">unpack</span>(pubKey[<span class=\"hljs-number\">1</span> : <span class=\"hljs-number\">33</span>]), <span class=\"hljs-title function_\">unpack</span>(pubKey[<span class=\"hljs-number\">33</span> : <span class=\"hljs-number\">65</span>]) };\r\n    }\r\n\r\n}\r\n</code></pre>\r\n`\r\n\r\nexport default html\r\n","import React from \"react\"\r\nimport Example from \"../../components/Example\"\r\nimport html, { version, title, description } from \"./index.html\"\r\n\r\nfunction ExamplePage() {\r\n  return (\r\n    <Example\r\n      version={version}\r\n      title={title}\r\n      description={description}\r\n      html={html}\r\n    />\r\n  )\r\n}\r\n\r\nexport default ExamplePage\r\n","// metadata\r\nexport const version = \"0.1.0\"\r\nexport const title = \"Scoping\"\r\nexport const description = \"Scoping in sCrypt\"\r\n\r\nconst html = `<p>Scoping in sCrypt follows the prevailing scoping rules of C99 and Solidity. Outer scope variable is shadowed by the inner scope variable of the same name.</p>\r\n`\r\n\r\nexport default html\r\n","import React from \"react\"\r\nimport Example from \"../../components/Example\"\r\nimport html, { version, title, description } from \"./index.html\"\r\n\r\nfunction ExamplePage() {\r\n  return (\r\n    <Example\r\n      version={version}\r\n      title={title}\r\n      description={description}\r\n      html={html}\r\n    />\r\n  )\r\n}\r\n\r\nexport default ExamplePage\r\n","// metadata\r\nexport const version = \"0.1.0\"\r\nexport const title = \"Stateful Contract\"\r\nexport const description = \"Stateful contracts in sCrypt\"\r\n\r\nconst html = `<p>Declare any property that is part of the state with <code>@state</code> decorator. The state property can be used the same way as a regular property.</p>\r\n<p>In order to presist the state, we need to enforce it in the output of the transaction, that will spend our contract in the future. To achieve that, the spending transaction must pass it&#39;s transaction preimage.</p>\r\n<pre><code class=\"language-javascript\">contract <span class=\"hljs-title class_\">Counter</span> {\r\n    @state\r\n    int counter;\r\n\r\n    <span class=\"hljs-title function_\">constructor</span>(<span class=\"hljs-params\">int counter</span>) {\r\n        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">counter</span> = counter;\r\n    }\r\n\r\n    public <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">increment</span>(<span class=\"hljs-params\">SigHashPreimage txPreimage, int amount</span>) {\r\n        <span class=\"hljs-comment\">// Ensure that the passed preimage is correct for this TX.</span>\r\n        <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-title class_\">Tx</span>.<span class=\"hljs-title function_\">checkPreimage</span>(txPreimage));\r\n\r\n        <span class=\"hljs-comment\">// Mutate state.</span>\r\n        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">counter</span>++;\r\n\r\n        <span class=\"hljs-comment\">// Get this TXs output.</span>\r\n        bytes outputScript = <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">getStateScript</span>();\r\n\r\n        <span class=\"hljs-comment\">// Construct an output from its locking script and satoshi amount.</span>\r\n        bytes output = <span class=\"hljs-title class_\">Utils</span>.<span class=\"hljs-title function_\">buildOutput</span>(outputScript, amount);\r\n\r\n        <span class=\"hljs-comment\">// Ensure that the TX actually contains this exact output.</span>\r\n        <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-title function_\">hash256</span>(output) == <span class=\"hljs-title class_\">SigHash</span>.<span class=\"hljs-title function_\">hashOutputs</span>(txPreimage));\r\n    }\r\n}\r\n</code></pre>\r\n`\r\n\r\nexport default html\r\n","import React from \"react\"\r\nimport Example from \"../../components/Example\"\r\nimport html, { version, title, description } from \"./index.html\"\r\n\r\nfunction ExamplePage() {\r\n  return (\r\n    <Example\r\n      version={version}\r\n      title={title}\r\n      description={description}\r\n      html={html}\r\n    />\r\n  )\r\n}\r\n\r\nexport default ExamplePage\r\n","// metadata\r\nexport const version = \"0.1.0\"\r\nexport const title = \"Static Properties and Functions\"\r\nexport const description = \"Static properties and functions in sCrypt\"\r\n\r\nconst html = `<p>A static property/function can be referenced with contract name as prefix without an instantiated contract, similar to a static function/property in Javascript or C++. A static property/function can also be referenced without the contract prefix, but only in the contract it is defined in.</p>\r\n<pre><code class=\"language-javascript\">library <span class=\"hljs-title class_\">Foo</span> {\r\n    <span class=\"hljs-keyword\">static</span> int N = <span class=\"hljs-number\">0</span>;\r\n\r\n    <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">incByN</span>(<span class=\"hljs-params\">int a</span>): int {\r\n        <span class=\"hljs-comment\">// N is used with and without Foo prefix</span>\r\n        <span class=\"hljs-keyword\">return</span> a + <span class=\"hljs-title class_\">Foo</span>.<span class=\"hljs-property\">N</span> + N;\r\n    }\r\n\r\n    <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">double</span>(<span class=\"hljs-params\">int x</span>): int {\r\n        <span class=\"hljs-comment\">// incByN() is called with prefix and without</span>\r\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">Foo</span>.<span class=\"hljs-title function_\">incByN</span>(x) + <span class=\"hljs-title function_\">incByN</span>(x);\r\n    }\r\n}\r\n\r\ncontract <span class=\"hljs-title class_\">Bar</span> {\r\n    public <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">unlock</span>(<span class=\"hljs-params\">int y</span>) {\r\n        <span class=\"hljs-built_in\">require</span>(y == <span class=\"hljs-title class_\">Foo</span>.<span class=\"hljs-title function_\">double</span>(<span class=\"hljs-number\">2</span>));\r\n        <span class=\"hljs-built_in\">require</span>(y == <span class=\"hljs-title class_\">Foo</span>.<span class=\"hljs-property\">N</span>);\r\n        <span class=\"hljs-comment\">// N cannot be referenced without Foo prefix</span>\r\n        <span class=\"hljs-comment\">// require(y == N);</span>\r\n    }\r\n}\r\n</code></pre>\r\n`\r\n\r\nexport default html\r\n","import React from \"react\"\r\nimport Example from \"../../components/Example\"\r\nimport html, { version, title, description } from \"./index.html\"\r\n\r\nfunction ExamplePage() {\r\n  return (\r\n    <Example\r\n      version={version}\r\n      title={title}\r\n      description={description}\r\n      html={html}\r\n    />\r\n  )\r\n}\r\n\r\nexport default ExamplePage\r\n","// metadata\r\nexport const version = \"0.1.0\"\r\nexport const title = \"Struct Types\"\r\nexport const description = \"Struct types in sCrypt\"\r\n\r\nconst html = `<p>A struct is a collection of variable under a single name.</p>\r\n<p>Structs can be defined like the following:</p>\r\n<pre><code class=\"language-javascript\">struct <span class=\"hljs-title class_\">Point</span> {\r\n  int x;\r\n  int y;\r\n}\r\n\r\nstruct <span class=\"hljs-title class_\">Line</span> {\r\n  <span class=\"hljs-title class_\">Point</span> start;\r\n  <span class=\"hljs-title class_\">Point</span> end;\r\n}\r\n</code></pre>\r\n<p>Usage:</p>\r\n<pre><code class=\"language-javascript\"><span class=\"hljs-title class_\">Point</span> p = {<span class=\"hljs-number\">10</span>, -<span class=\"hljs-number\">10</span>};\r\nint x = p.<span class=\"hljs-property\">x</span>;\r\np.<span class=\"hljs-property\">y</span> = <span class=\"hljs-number\">20</span>;\r\n\r\n<span class=\"hljs-comment\">// Define a variable q of type Point, and set members to the same values as those of p</span>\r\n<span class=\"hljs-title class_\">Point</span> q = p;\r\n<span class=\"hljs-built_in\">require</span>(p == q); <span class=\"hljs-comment\">// true</span>\r\n\r\n<span class=\"hljs-title class_\">Line</span> l = {p, q};\r\nl.<span class=\"hljs-property\">start</span>.<span class=\"hljs-property\">x</span> = l.<span class=\"hljs-property\">end</span>.<span class=\"hljs-property\">y</span> + <span class=\"hljs-number\">1</span>;\r\n</code></pre>\r\n`\r\n\r\nexport default html\r\n","import React from \"react\"\r\nimport Example from \"../../components/Example\"\r\nimport html, { version, title, description } from \"./index.html\"\r\n\r\nfunction ExamplePage() {\r\n  return (\r\n    <Example\r\n      version={version}\r\n      title={title}\r\n      description={description}\r\n      html={html}\r\n    />\r\n  )\r\n}\r\n\r\nexport default ExamplePage\r\n","// metadata\r\nexport const version = \"0.1.0\"\r\nexport const title = \"Tic-Tac-Toe\"\r\nexport const description = \"Tic-Tac-Toe in sCrypt\"\r\n\r\nconst html = `<p>To initiate a game, Alice and Bob each lock up X amount of bitcoins into a contract UTXO. They take turns to play the game by sending signed transactions interacting with the <a href=\"https://by-example.scrypt.io/stateful-contract/\">stateful contract</a>. If one of them wins, the winner claims the 2X bitcoins. If there is a draw, they take back their bitcoins. </p>\r\n<pre><code class=\"language-javascript\"><span class=\"hljs-keyword\">import</span> <span class=\"hljs-string\">\"arrayUtil.scrypt\"</span>;\r\n\r\n\r\ncontract <span class=\"hljs-title class_\">TicTacToe</span> {\r\n\r\n    <span class=\"hljs-title class_\">PubKey</span> alice;\r\n    <span class=\"hljs-title class_\">PubKey</span> bob;\r\n\r\n    @state\r\n    bool is_alice_turn;\r\n\r\n    @state\r\n    bytes board;\r\n\r\n\r\n    <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">const</span> int <span class=\"hljs-variable constant_\">TURNLEN</span> = <span class=\"hljs-number\">1</span>;\r\n    <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">const</span> int <span class=\"hljs-variable constant_\">BOARDLEN</span> = <span class=\"hljs-number\">9</span>;\r\n    <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">const</span> bytes <span class=\"hljs-variable constant_\">EMPTY</span> = b<span class=\"hljs-string\">&#x27;00&#x27;</span>;\r\n    <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">const</span> bytes <span class=\"hljs-variable constant_\">ALICE</span> = b<span class=\"hljs-string\">&#x27;01&#x27;</span>;\r\n    <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">const</span> bytes <span class=\"hljs-variable constant_\">BOB</span> = b<span class=\"hljs-string\">&#x27;02&#x27;</span>;\r\n\r\n    public <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">move</span>(<span class=\"hljs-params\">int n, Sig sig, int amount, SigHashPreimage txPreimage</span>) {\r\n        <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-title class_\">Tx</span>.<span class=\"hljs-title function_\">checkPreimage</span>(txPreimage));\r\n        <span class=\"hljs-built_in\">require</span>(n &gt;= <span class=\"hljs-number\">0</span> &amp;&amp; n &lt; <span class=\"hljs-variable constant_\">BOARDLEN</span>);\r\n\r\n        bytes play = <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">is_alice_turn</span> ? <span class=\"hljs-variable constant_\">ALICE</span> : <span class=\"hljs-variable constant_\">BOB</span>;\r\n        <span class=\"hljs-title class_\">PubKey</span> player = <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">is_alice_turn</span> ? <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">alice</span> : <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">bob</span>;\r\n\r\n        <span class=\"hljs-comment\">// ensure it&#x27;s player&#x27;s turn</span>\r\n        <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-title function_\">checkSig</span>(sig, player));\r\n        <span class=\"hljs-comment\">// make the move</span>\r\n        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">board</span> = <span class=\"hljs-title class_\">ArrayUtil</span>.<span class=\"hljs-title function_\">setElemAt</span>(<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">board</span>, n, play);\r\n        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">is_alice_turn</span> = !<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">is_alice_turn</span>;\r\n\r\n\r\n        bytes outputs = b<span class=\"hljs-string\">&#x27;&#x27;</span>;\r\n        <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">won</span>(<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">board</span>, play)) {\r\n            <span class=\"hljs-comment\">// winner takes all</span>\r\n            bytes outputScript = <span class=\"hljs-title class_\">Utils</span>.<span class=\"hljs-title function_\">buildPublicKeyHashScript</span>(<span class=\"hljs-title function_\">hash160</span>(player));\r\n            bytes output = <span class=\"hljs-title class_\">Utils</span>.<span class=\"hljs-title function_\">buildOutput</span>(outputScript, amount);\r\n            outputs = output;\r\n        }\r\n        <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">full</span>(<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">board</span>)) {\r\n            <span class=\"hljs-comment\">// draw: equally split, i.e., both outputs have the same amount</span>\r\n            bytes aliceScript = <span class=\"hljs-title class_\">Utils</span>.<span class=\"hljs-title function_\">buildPublicKeyHashScript</span>(<span class=\"hljs-title function_\">hash160</span>(<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">alice</span>));\r\n            bytes aliceOutput = <span class=\"hljs-title class_\">Utils</span>.<span class=\"hljs-title function_\">buildOutput</span>(aliceScript, amount);\r\n\r\n            bytes bobScript = <span class=\"hljs-title class_\">Utils</span>.<span class=\"hljs-title function_\">buildPublicKeyHashScript</span>(<span class=\"hljs-title function_\">hash160</span>(<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">bob</span>));\r\n            bytes bobOutput = <span class=\"hljs-title class_\">Utils</span>.<span class=\"hljs-title function_\">buildOutput</span>(bobScript, amount);\r\n\r\n            outputs = aliceOutput + bobOutput;\r\n        }\r\n        <span class=\"hljs-keyword\">else</span> {\r\n            <span class=\"hljs-comment\">// update state</span>\r\n            bytes scriptCode_ = <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">getStateScript</span>();\r\n            bytes output = <span class=\"hljs-title class_\">Utils</span>.<span class=\"hljs-title function_\">buildOutput</span>(scriptCode_, amount);\r\n            outputs = output;\r\n        }\r\n\r\n        <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-title function_\">hash256</span>(outputs) == <span class=\"hljs-title class_\">SigHash</span>.<span class=\"hljs-title function_\">hashOutputs</span>(txPreimage));\r\n    }\r\n\r\n    <span class=\"hljs-comment\">// does play win after current move?</span>\r\n    <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">won</span>(<span class=\"hljs-params\">bytes board, bytes play</span>) : bool {\r\n        <span class=\"hljs-comment\">// three in a row, a column, or a diagnoal</span>\r\n        int[<span class=\"hljs-number\">8</span>][<span class=\"hljs-number\">3</span>] lines = [[<span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>], [<span class=\"hljs-number\">3</span>, <span class=\"hljs-number\">4</span>, <span class=\"hljs-number\">5</span>], [<span class=\"hljs-number\">6</span>, <span class=\"hljs-number\">7</span>, <span class=\"hljs-number\">8</span>], [<span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">3</span>, <span class=\"hljs-number\">6</span>], [<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">4</span>, <span class=\"hljs-number\">7</span>], [<span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">5</span>, <span class=\"hljs-number\">8</span>], [<span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">4</span>, <span class=\"hljs-number\">8</span>], [<span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">4</span>, <span class=\"hljs-number\">6</span>]];\r\n\r\n        bool anyLine = <span class=\"hljs-literal\">false</span>;\r\n        loop (<span class=\"hljs-number\">8</span>) : i {\r\n            bool line = <span class=\"hljs-literal\">true</span>;\r\n            loop (<span class=\"hljs-number\">3</span>) : j {\r\n                line = line &amp;&amp; <span class=\"hljs-title class_\">ArrayUtil</span>.<span class=\"hljs-title function_\">getElemAt</span>(board, lines[i][j]) == play;\r\n            }\r\n\r\n            anyLine = anyLine || line;\r\n        }\r\n\r\n        <span class=\"hljs-keyword\">return</span> anyLine;\r\n    }\r\n\r\n    <span class=\"hljs-comment\">// is board full?</span>\r\n    <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">full</span>(<span class=\"hljs-params\">bytes board</span>) : bool {\r\n        bool full = <span class=\"hljs-literal\">true</span>;\r\n\r\n        loop (<span class=\"hljs-variable constant_\">BOARDLEN</span>) : i {\r\n            full = full &amp;&amp; <span class=\"hljs-title class_\">ArrayUtil</span>.<span class=\"hljs-title function_\">getElemAt</span>(board, i) != <span class=\"hljs-variable constant_\">EMPTY</span>;\r\n        }\r\n\r\n        <span class=\"hljs-keyword\">return</span> full;\r\n    }\r\n}\r\n</code></pre>\r\n`\r\n\r\nexport default html\r\n","import React from \"react\"\r\nimport Example from \"../../components/Example\"\r\nimport html, { version, title, description } from \"./index.html\"\r\n\r\nfunction ExamplePage() {\r\n  return (\r\n    <Example\r\n      version={version}\r\n      title={title}\r\n      description={description}\r\n      html={html}\r\n    />\r\n  )\r\n}\r\n\r\nexport default ExamplePage\r\n","// metadata\r\nexport const version = \"0.1.0\"\r\nexport const title = \"Turing Machine\"\r\nexport const description = \"Turing Machine in sCrypt\"\r\n\r\nconst html = `<p>In the example below, we implement a Turing machine for <a href=\"https://math.stackexchange.com/questions/503853/how-do-you-argue-or-prove-that-a-certain-turing-machine-accepts-a-language\">checking balanced parentheses</a>. Its initial state is A and it contains one accepted state. The transition function says, for instance, if the machine is at state A and its head reads symbol â€œ)â€, it should write â€œXâ€ in that cell and move left, transitioning to state B.</p>\r\n<p>Structs can be defined like the following:</p>\r\n<pre><code class=\"language-javascript\"><span class=\"hljs-keyword\">import</span> <span class=\"hljs-string\">\"serializer.scrypt\"</span>;\r\n<span class=\"hljs-keyword\">import</span> <span class=\"hljs-string\">\"arrayUtil.scrypt\"</span>;\r\n\r\n\r\n<span class=\"hljs-comment\">// Turing machine state</span>\r\ntype <span class=\"hljs-title class_\">State</span> = bytes;\r\n<span class=\"hljs-comment\">// alphabet symbol in each cell, 1 byte long each</span>\r\ntype <span class=\"hljs-title class_\">Symbol</span> = bytes;\r\n\r\n<span class=\"hljs-comment\">// contract state as a struct</span>\r\nstruct <span class=\"hljs-title class_\">StateStruct</span> {\r\n    int headPos;\r\n    bytes tape;\r\n    <span class=\"hljs-comment\">// current machine state</span>\r\n    <span class=\"hljs-title class_\">State</span> curState;\r\n}\r\n\r\nstruct <span class=\"hljs-title class_\">Input</span> {\r\n    <span class=\"hljs-title class_\">State</span> oldState;\r\n    <span class=\"hljs-title class_\">Symbol</span> read;\r\n}\r\n\r\nstruct <span class=\"hljs-title class_\">Output</span> {\r\n    <span class=\"hljs-title class_\">State</span> newState;\r\n    <span class=\"hljs-title class_\">Symbol</span> write;\r\n    <span class=\"hljs-comment\">// move left or right</span>\r\n    bool moveLeft;\r\n}\r\n\r\n<span class=\"hljs-comment\">// transition function entry: input -&gt; output</span>\r\nstruct <span class=\"hljs-title class_\">TransitionFuncEntry</span> {\r\n    <span class=\"hljs-title class_\">Input</span> input;\r\n    <span class=\"hljs-title class_\">Output</span> output;\r\n}\r\n\r\n<span class=\"hljs-comment\">/*\r\n * A Turing Machine checking balanced parentheses\r\n */</span>\r\ncontract <span class=\"hljs-title class_\">TuringMachine</span> {\r\n\r\n    @state\r\n    <span class=\"hljs-title class_\">StateStruct</span> states;\r\n    <span class=\"hljs-comment\">// states</span>\r\n    <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">const</span> <span class=\"hljs-title class_\">State</span> <span class=\"hljs-variable constant_\">STATE_A</span> = b<span class=\"hljs-string\">&#x27;00&#x27;</span>; <span class=\"hljs-comment\">// initial state</span>\r\n    <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">const</span> <span class=\"hljs-title class_\">State</span> <span class=\"hljs-variable constant_\">STATE_B</span> = b<span class=\"hljs-string\">&#x27;01&#x27;</span>;\r\n    <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">const</span> <span class=\"hljs-title class_\">State</span> <span class=\"hljs-variable constant_\">STATE_C</span> = b<span class=\"hljs-string\">&#x27;02&#x27;</span>;\r\n    <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">const</span> <span class=\"hljs-title class_\">State</span> <span class=\"hljs-variable constant_\">STATE_ACCEPT</span> = b<span class=\"hljs-string\">&#x27;03&#x27;</span>;\r\n\r\n    <span class=\"hljs-comment\">// symbols</span>\r\n    <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">const</span> <span class=\"hljs-title class_\">Symbol</span> <span class=\"hljs-variable constant_\">BLANK</span> = b<span class=\"hljs-string\">&#x27;00&#x27;</span>;\r\n    <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">const</span> <span class=\"hljs-title class_\">Symbol</span> <span class=\"hljs-variable constant_\">OPEN</span> = b<span class=\"hljs-string\">&#x27;01&#x27;</span>;\r\n    <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">const</span> <span class=\"hljs-title class_\">Symbol</span> <span class=\"hljs-variable constant_\">CLOSE</span> = b<span class=\"hljs-string\">&#x27;02&#x27;</span>;\r\n    <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">const</span> <span class=\"hljs-title class_\">Symbol</span> X = b<span class=\"hljs-string\">&#x27;03&#x27;</span>;\r\n\r\n    <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">const</span> bool <span class=\"hljs-variable constant_\">LEFT</span> = <span class=\"hljs-literal\">true</span>;\r\n    <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">const</span> bool <span class=\"hljs-variable constant_\">RIGHT</span> = <span class=\"hljs-literal\">false</span>;\r\n\r\n    <span class=\"hljs-comment\">// number of rules in the transition function</span>\r\n    <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">const</span> int N = <span class=\"hljs-number\">8</span>;\r\n    <span class=\"hljs-comment\">// transition function table</span>\r\n    <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">const</span> <span class=\"hljs-title class_\">TransitionFuncEntry</span>[N] transitionFuncTable = [\r\n        ,\r\n        ,\r\n        ,\r\n        ,\r\n        \r\n        ,\r\n        ,\r\n\r\n        ,\r\n        \r\n    ];\r\n    \r\n    public <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">transit</span>(<span class=\"hljs-params\">SigHashPreimage txPreimage</span>) {\r\n        <span class=\"hljs-comment\">// read/deserialize contract state</span>\r\n        <span class=\"hljs-title class_\">SigHashType</span> sigHashType = <span class=\"hljs-title class_\">SigHash</span>.<span class=\"hljs-property\">ANYONECANPAY</span> | <span class=\"hljs-title class_\">SigHash</span>.<span class=\"hljs-property\">SINGLE</span> | <span class=\"hljs-title class_\">SigHash</span>.<span class=\"hljs-property\">FORKID</span>;\r\n        <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-title class_\">Tx</span>.<span class=\"hljs-title function_\">checkPreimageSigHashType</span>(txPreimage, sigHashType));\r\n        <span class=\"hljs-comment\">// transition</span>\r\n        <span class=\"hljs-title class_\">Symbol</span> head = <span class=\"hljs-title class_\">ArrayUtil</span>.<span class=\"hljs-title function_\">getElemAt</span>(<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">states</span>.<span class=\"hljs-property\">tape</span>, <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">states</span>.<span class=\"hljs-property\">headPos</span>);\r\n        <span class=\"hljs-comment\">// look up in transition table</span>\r\n        bool found = <span class=\"hljs-literal\">false</span>;\r\n        loop (N) : i {\r\n            <span class=\"hljs-keyword\">if</span> (!found) {\r\n                auto entry = transitionFuncTable[i];\r\n                <span class=\"hljs-keyword\">if</span> (entry.<span class=\"hljs-property\">input</span> == { <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">states</span>.<span class=\"hljs-property\">curState</span>, head }) {\r\n                    auto output = entry.<span class=\"hljs-property\">output</span>;\r\n                    <span class=\"hljs-comment\">// update state</span>\r\n                    <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">states</span>.<span class=\"hljs-property\">curState</span> = output.<span class=\"hljs-property\">newState</span>;\r\n                    <span class=\"hljs-comment\">// write tape head</span>\r\n                    <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">states</span>.<span class=\"hljs-property\">tape</span> = <span class=\"hljs-title class_\">ArrayUtil</span>.<span class=\"hljs-title function_\">setElemAt</span>(<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">states</span>.<span class=\"hljs-property\">tape</span>, <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">states</span>.<span class=\"hljs-property\">headPos</span>, output.<span class=\"hljs-property\">write</span>);\r\n                    <span class=\"hljs-comment\">// move head</span>\r\n                    <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">states</span>.<span class=\"hljs-property\">headPos</span> += output.<span class=\"hljs-property\">moveLeft</span> ? -<span class=\"hljs-number\">1</span> : <span class=\"hljs-number\">1</span>;\r\n                    <span class=\"hljs-comment\">// extend tape if out of bound</span>\r\n                    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">states</span>.<span class=\"hljs-property\">headPos</span> &lt; <span class=\"hljs-number\">0</span>) {\r\n                        <span class=\"hljs-comment\">// add 1 blank cell to the left</span>\r\n                        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">states</span>.<span class=\"hljs-property\">tape</span> = <span class=\"hljs-variable constant_\">BLANK</span> + <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">states</span>.<span class=\"hljs-property\">tape</span>;\r\n                        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">states</span>.<span class=\"hljs-property\">headPos</span> = <span class=\"hljs-number\">0</span>;\r\n                    }\r\n                    <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">states</span>.<span class=\"hljs-property\">headPos</span> &gt;= <span class=\"hljs-title function_\">len</span>(<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">states</span>.<span class=\"hljs-property\">tape</span>)) {\r\n                        <span class=\"hljs-comment\">// add 1 blank cell to the right</span>\r\n                        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">states</span>.<span class=\"hljs-property\">tape</span> = <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">states</span>.<span class=\"hljs-property\">tape</span> + <span class=\"hljs-variable constant_\">BLANK</span>;\r\n                    }\r\n\r\n                    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">states</span>.<span class=\"hljs-property\">curState</span> == <span class=\"hljs-variable constant_\">STATE_ACCEPT</span>) {\r\n                        <span class=\"hljs-comment\">// accept</span>\r\n                        <span class=\"hljs-title function_\">exit</span>(<span class=\"hljs-literal\">true</span>);\r\n                    }\r\n\r\n                    found = <span class=\"hljs-literal\">true</span>;\r\n                }\r\n            }\r\n        }\r\n        <span class=\"hljs-comment\">// reject if no transition rule found</span>\r\n        <span class=\"hljs-built_in\">require</span>(found);\r\n\r\n        <span class=\"hljs-comment\">// otherwise machine goes to the next step</span>\r\n        bytes stateScript = <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">getStateScript</span>();\r\n        bytes output = <span class=\"hljs-title class_\">Utils</span>.<span class=\"hljs-title function_\">buildOutput</span>(stateScript, <span class=\"hljs-title class_\">SigHash</span>.<span class=\"hljs-title function_\">value</span>(txPreimage));\r\n        <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-title function_\">hash256</span>(output) == <span class=\"hljs-title class_\">SigHash</span>.<span class=\"hljs-title function_\">hashOutputs</span>(txPreimage));\r\n\r\n    }\r\n}\r\n</code></pre>\r\n`\r\n\r\nexport default html\r\n","import React from \"react\"\r\nimport Example from \"../../components/Example\"\r\nimport html, { version, title, description } from \"./index.html\"\r\n\r\nfunction ExamplePage() {\r\n  return (\r\n    <Example\r\n      version={version}\r\n      title={title}\r\n      description={description}\r\n      html={html}\r\n    />\r\n  )\r\n}\r\n\r\nexport default ExamplePage\r\n","// metadata\r\nexport const version = \"0.1.0\"\r\nexport const title = \"Type Aliases\"\r\nexport const description = \"Type aliases in sCrypt\"\r\n\r\nconst html = `<p>Type aliases create a new name for a type. It does not actually create a new type, it merely creates a new name to refer to that type.</p>\r\n<pre><code class=\"language-javascript\">type <span class=\"hljs-title class_\">Age</span> = int;\r\ntype <span class=\"hljs-title class_\">Coordinate</span> = int[<span class=\"hljs-number\">2</span>];\r\n</code></pre>\r\n<p>They can also be used for struct types.</p>\r\n<p>Struct definition:</p>\r\n<pre><code class=\"language-javascript\">struct <span class=\"hljs-title class_\">Point</span> {\r\n  int x;\r\n  int y;\r\n}\r\n</code></pre>\r\n<p>Creating an alias for the defined struct:</p>\r\n<pre><code class=\"language-javascript\">type <span class=\"hljs-title class_\">Coordinate</span> = <span class=\"hljs-title class_\">Point</span>;\r\n</code></pre>\r\n`\r\n\r\nexport default html\r\n","import React from \"react\"\r\nimport Example from \"../../components/Example\"\r\nimport html, { version, title, description } from \"./index.html\"\r\n\r\nfunction ExamplePage() {\r\n  return (\r\n    <Example\r\n      version={version}\r\n      title={title}\r\n      description={description}\r\n      html={html}\r\n    />\r\n  )\r\n}\r\n\r\nexport default ExamplePage\r\n","// metadata\r\nexport const version = \"0.1.0\"\r\nexport const title = \"Type Inference\"\r\nexport const description = \"Type inference in sCrypt\"\r\n\r\nconst html = `<p>The <code>auto</code> keyword specifies that the type of the variable, of basic type, declared will be automatically deducted from its initializer.</p>\r\n<pre><code class=\"language-javascript\">auto a1 = b<span class=\"hljs-string\">&#x27;36&#x27;</span>;      <span class=\"hljs-comment\">// bytes</span>\r\nauto a2 = <span class=\"hljs-number\">1</span> + <span class=\"hljs-number\">5</span> * <span class=\"hljs-number\">3</span>;  <span class=\"hljs-comment\">// int</span>\r\n</code></pre>\r\n`\r\n\r\nexport default html\r\n","import React from \"react\"\r\nimport Example from \"../../components/Example\"\r\nimport html, { version, title, description } from \"./index.html\"\r\n\r\nfunction ExamplePage() {\r\n  return (\r\n    <Example\r\n      version={version}\r\n      title={title}\r\n      description={description}\r\n      html={html}\r\n    />\r\n  )\r\n}\r\n\r\nexport default ExamplePage\r\n","// metadata\r\nexport const version = \"0.1.0\"\r\nexport const title = \"Outsourcing Vanity Address Generation\"\r\nexport const description = \"Outsourcing vanity address generation in sCrypt\"\r\n\r\nconst html = `<p>In order to outsource the generation of a desired vanity address, say with the prefix <code>1Love</code>, we generate a key pair <strong>p</strong>, <strong>P</strong>.\r\nWe then share <strong>P</strong> with the seller, who will find the public key of our final vanity address. He will then go through many values of a partial private key <strong>x</strong>, until <strong>P + x*G</strong> yields a public key <strong>P&#39;</strong>, the address of which will contain our desired prefix. He then shares this key <em>x</em>, so we can assemble the private key of <strong>P&#39;</strong>, by calculating <strong>k = (p + x) * G</strong>.</p>\r\n<pre><code class=\"language-javascript\"><span class=\"hljs-keyword\">import</span> <span class=\"hljs-string\">\"ec.scrypt\"</span>;\r\n<span class=\"hljs-keyword\">import</span> <span class=\"hljs-string\">\"util.scrypt\"</span>;\r\n<span class=\"hljs-keyword\">import</span> <span class=\"hljs-string\">\"base58.scrypt\"</span>;\r\n\r\n\r\ncontract <span class=\"hljs-title class_\">VanityAddr</span> {\r\n\r\n    <span class=\"hljs-title class_\">PubKey</span> P;\r\n    bytes pattern;\r\n    <span class=\"hljs-title class_\">Ripemd160</span> cancelPubKeyHash;\r\n\r\n    public <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">cancel</span>(<span class=\"hljs-params\">Sig sig, PubKey pubKey</span>) {\r\n        <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-title function_\">hash160</span>(pubKey) == <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">cancelPubKeyHash</span>);\r\n        <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-title function_\">checkSig</span>(sig, pubKey));\r\n    }\r\n\r\n    public <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">offerVanityAddr</span>(<span class=\"hljs-params\">PrivKey x,\r\n                                    PubKey X,\r\n                                    PubKey derP,\r\n                                    int lambda,\r\n                                    SigHashPreimage txPreimage</span>) {\r\n        <span class=\"hljs-comment\">// Check if x is private key of X.</span>\r\n        <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-title class_\">Tx</span>.<span class=\"hljs-title function_\">checkPreimageAdvanced</span>(txPreimage, x, X, <span class=\"hljs-title class_\">Tx</span>.<span class=\"hljs-property\">invK</span>, <span class=\"hljs-title class_\">Tx</span>.<span class=\"hljs-property\">r</span>, <span class=\"hljs-title class_\">Tx</span>.<span class=\"hljs-property\">rBigEndian</span>, <span class=\"hljs-title class_\">SigHashType</span>(<span class=\"hljs-title class_\">SigHash</span>.<span class=\"hljs-property\">ALL</span> | <span class=\"hljs-title class_\">SigHash</span>.<span class=\"hljs-property\">FORKID</span>)));\r\n\r\n        <span class=\"hljs-comment\">// Check if P&#x27; = P + X.</span>\r\n        <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-variable constant_\">EC</span>.<span class=\"hljs-title function_\">isPubKeySum</span>(<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">P</span>, X, lambda, derivedPubKey));\r\n\r\n        <span class=\"hljs-comment\">// Check if P&#x27; produces desired address.</span>\r\n        <span class=\"hljs-title class_\">PubKey</span> derivedPubKeyCompressed = <span class=\"hljs-title function_\">compressPubKey</span>(derivedPubKey);\r\n        <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-title function_\">matchPattern</span>(derivedPubKeyCompressed, <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">pattern</span>));\r\n    }\r\n\r\n    <span class=\"hljs-comment\">// Check if public key&#x27;s address matches the given pattern.</span>\r\n    <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">matchPattern</span>(<span class=\"hljs-params\">PubKey pubKey, bytes pattern</span>) : bool {\r\n        <span class=\"hljs-comment\">// Derive the address.</span>\r\n        bytes addr = <span class=\"hljs-title function_\">hash160</span>(pubKey);\r\n\r\n        <span class=\"hljs-comment\">// Encode to base58check.</span>\r\n        bytes addrB58 = <span class=\"hljs-title class_\">Base58</span>.<span class=\"hljs-title function_\">base58EncodeCheckAddr</span>(addr, <span class=\"hljs-title class_\">Base58</span>.<span class=\"hljs-property\">P2PKH_verbyte_mainnet</span>);\r\n\r\n        <span class=\"hljs-comment\">// Prefix match.</span>\r\n        int l = <span class=\"hljs-title function_\">len</span>(pattern);\r\n        <span class=\"hljs-keyword\">return</span> addrB58[:l] == pattern;\r\n    }\r\n\r\n    <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">compressPubKey</span>(<span class=\"hljs-params\">PubKey pk</span>) : <span class=\"hljs-title class_\">PubKey</span> {\r\n        <span class=\"hljs-comment\">// Check if y-coord is even or odd</span>\r\n        bool isEven = (pk[<span class=\"hljs-number\">63</span>:<span class=\"hljs-number\">64</span>] &amp; b<span class=\"hljs-string\">&#x27;01&#x27;</span>) != b<span class=\"hljs-string\">&#x27;01&#x27;</span>;\r\n\r\n        bytes prefix = isEven ? b<span class=\"hljs-string\">&#x27;02&#x27;</span> : b<span class=\"hljs-string\">&#x27;03&#x27;</span>;\r\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">PubKey</span>(prefix + pk[<span class=\"hljs-number\">1</span>:<span class=\"hljs-number\">33</span>]);\r\n    }\r\n}\r\n</code></pre>\r\n`\r\n\r\nexport default html\r\n","export default __webpack_public_path__ + \"static/media/youtube.274e586e.svg\";","import React from \"react\"\r\nimport SEO from \"../components/SEO\"\r\nimport styles from \"./index.module.css\"\r\nimport youTube from \"../components/youtube.svg\"\r\n\r\ninterface Route {\r\n  path: string\r\n  title: string\r\n}\r\n\r\nconst SOL_ROUTES: Route[] = [\r\n  {\r\n    path: \"hello-world\",\r\n    title: \"Hello World\",\r\n  },\r\n  {\r\n    path: \"constructor\",\r\n    title: \"Constructor\",\r\n  },\r\n  {\r\n    path: \"require\",\r\n    title: \"Require\",\r\n  },\r\n  {\r\n    path: \"basic-types\",\r\n    title: \"Basic Types\",\r\n  },\r\n  {\r\n    path: \"array-types\",\r\n    title: \"Array Types\",\r\n  },\r\n  {\r\n    path: \"struct-types\",\r\n    title: \"Struct Types\",\r\n  },\r\n  {\r\n    path: \"type-inference\",\r\n    title: \"Type Inference\",\r\n  },\r\n  {\r\n    path: \"type-aliases\",\r\n    title: \"Type Aliases\",\r\n  },\r\n  {\r\n    path: \"generics\",\r\n    title: \"Generics\",\r\n  },\r\n  {\r\n    path: \"const-variables\",\r\n    title: \"Const Variables\",\r\n  },\r\n  {\r\n    path: \"if-else\",\r\n    title: \"If / Else\",\r\n  },\r\n  {\r\n    path: \"public-function\",\r\n    title: \"Public Function\",\r\n  },\r\n  {\r\n    path: \"contract-private-functions\",\r\n    title: \"Functions\",\r\n  },\r\n  {\r\n    path: \"exit\",\r\n    title: \"Exit\",\r\n  },\r\n  //{\r\n  //  path: \"code-seperator\",\r\n  //  title: \"Code seperator\",\r\n  //},\r\n  {\r\n    path: \"access-modifiers\",\r\n    title: \"Access Modifiers\",\r\n  },\r\n  {\r\n    path: \"operators\",\r\n    title: \"Operators\",\r\n  },\r\n  {\r\n    path: \"scoping\",\r\n    title: \"Scoping\",\r\n  },\r\n  {\r\n    path: \"static\",\r\n    title: \"Static\",\r\n  },\r\n  {\r\n    path: \"loop\",\r\n    title: \"Loop\",\r\n  },\r\n  {\r\n    path: \"library\",\r\n    title: \"Library\",\r\n  },\r\n  {\r\n    path: \"import\",\r\n    title: \"Import\",\r\n  },\r\n  {\r\n    path: \"stateful-contract\",\r\n    title: \"Stateful Contract\",\r\n  },\r\n  {\r\n    path: \"inline-assembly\",\r\n    title: \"Inline Assembly\",\r\n  },\r\n]\r\n\r\nconst APP_ROUTES: Route[] = [\r\n  {\r\n    path: \"p2pkh\",\r\n    title: \"Pay to Public Key Hash (P2PKH)\",\r\n  },\r\n  {\r\n    path: \"r-puzzle\",\r\n    title: \"R-Puzzle\",\r\n  },\r\n  {\r\n    path: \"rabin-signature\",\r\n    title: \"Rabin Signature\",\r\n  },\r\n  {\r\n    path: \"schnoor-signature\",\r\n    title: \"Schnoor Signatures\",\r\n  },\r\n  {\r\n    path: \"multiparty-hash-puzzles\",\r\n    title: \"Multiparty Hash Puzzles\",\r\n  },\r\n  {\r\n    path: \"ecdsa-oracles\",\r\n    title: \"ECDSA-based Oracles\",\r\n  },\r\n  {\r\n    path: \"vanity-address\",\r\n    title: \"Trustless Outsourced Vanity Address Generation\",\r\n  },\r\n  {\r\n    path: \"auction\",\r\n    title: \"Auctions\",\r\n  },\r\n  {\r\n    path: \"cointoss\",\r\n    title: \"Fair Coin Toss\",\r\n  },\r\n  {\r\n    path: \"tic-tac-toe\",\r\n    title: \"Tic-Tac-Toe\",\r\n  },\r\n  {\r\n    path: \"rule110\",\r\n    title: \"Rule 110\",\r\n  },\r\n  {\r\n    path: \"gol\",\r\n    title: \"Conways Game of Life\",\r\n  },\r\n  {\r\n    path: \"turing-machine\",\r\n    title: \"Turing Machine\",\r\n  },\r\n]\r\n\r\nconst HACK_ROUTES: Route[] = []\r\n\r\nconst DEFI_ROUTES = []\r\n\r\nexport const ROUTES_BY_CATEGORY = [\r\n  {\r\n    title: \"\",\r\n    routes: SOL_ROUTES,\r\n  },\r\n  {\r\n    title: \"Applications\",\r\n    routes: APP_ROUTES,\r\n    //routes: APP_ROUTES.map((route) => ({\r\n    //  ...route,\r\n    //  path: `/app/${route.path}`,\r\n    //})),\r\n  },\r\n  //{\r\n  //  title: \"Hacks\",\r\n  //  routes: HACK_ROUTES.map((route) => ({\r\n  //    ...route,\r\n  //    path: `/hacks/${route.path}`,\r\n  //  })),\r\n  //},\r\n  //{\r\n  //  title: \"DeFi\",\r\n  //  routes: DEFI_ROUTES.map((route) => ({\r\n  //    ...route,\r\n  //    path: `/defi/${route.path}`,\r\n  //  })),\r\n  //},\r\n]\r\n\r\nconst UPDATES = [\r\n  \"\",\r\n]\r\n\r\nfunction HomePage() {\r\n  return (\r\n    <div className={styles.component}>\r\n      <SEO\r\n        title=\"sCrypt by Example\"\r\n        description=\"Learn smart contract programming using sCrypt\"\r\n      />\r\n      <h1 className={styles.header}>\r\n        <a href=\"/\">sCrypt by Example</a>\r\n      </h1>\r\n      <div className={styles.subHeader}></div>\r\n      <div className={styles.main}>\r\n        <p>\r\n          An introduction to <a href=\"https://scrypt.io/\">sCrypt</a> with\r\n          simple examples.\r\n        </p>\r\n\r\n        <div className={styles.youTube}>\r\n          <img src={youTube} alt=\"logo\" className={styles.youTubeLogo} />\r\n          <a\r\n            href=\"https://www.youtube.com/watch?v=xPfCM6gBl-Y&list=PL0Kn1t30VSpG4Fu2ze81uDptBd1ZML99A\"\r\n            target=\"__blank\"\r\n          >\r\n            Learning sCrypt video playlist.\r\n          </a>\r\n        </div>\r\n\r\n        <div className={styles.updates}>\r\n          {UPDATES.map((text, i) => (\r\n            <div key={i}>{text}</div>\r\n          ))}\r\n        </div>\r\n\r\n        {ROUTES_BY_CATEGORY.map(({ routes, title }, i) => (\r\n          <div key={i}>\r\n            {title && <h3 className={styles.category}>{title}</h3>}\r\n\r\n            <ul className={styles.list}>\r\n              {routes.map(({ path, title }) => (\r\n                <li className={styles.listItem} key={path}>\r\n                  <a href={path}>{title}</a>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default HomePage\r\n","import component_access_modifiers from \"./pages/access-modifiers\"\r\nimport component_array_types from \"./pages/array-types\"\r\nimport component_auction from \"./pages/auction\"\r\nimport component_basic_types from \"./pages/basic-types\"\r\nimport component_code_seperator from \"./pages/code-seperator\"\r\nimport component_cointoss from \"./pages/cointoss\"\r\nimport component_const_variables from \"./pages/const-variables\"\r\nimport component_constructor from \"./pages/constructor\"\r\nimport component_contract_private_functions from \"./pages/contract-private-functions\"\r\nimport component_ecdsa_oracles from \"./pages/ecdsa-oracles\"\r\nimport component_exit from \"./pages/exit\"\r\nimport component_generics from \"./pages/generics\"\r\nimport component_gol from \"./pages/gol\"\r\nimport component_hello_world from \"./pages/hello-world\"\r\nimport component_if_else from \"./pages/if-else\"\r\nimport component_import from \"./pages/import\"\r\nimport component_inline_assembly from \"./pages/inline-assembly\"\r\nimport component_library from \"./pages/library\"\r\nimport component_loop from \"./pages/loop\"\r\nimport component_multiparty_hash_puzzles from \"./pages/multiparty-hash-puzzles\"\r\nimport component_operators from \"./pages/operators\"\r\nimport component_p2pkh from \"./pages/p2pkh\"\r\nimport component_public_function from \"./pages/public-function\"\r\nimport component_r_puzzle from \"./pages/r-puzzle\"\r\nimport component_rabin_signature from \"./pages/rabin-signature\"\r\nimport component_require from \"./pages/require\"\r\nimport component_rule110 from \"./pages/rule110\"\r\nimport component_schnoor_signature from \"./pages/schnoor-signature\"\r\nimport component_scoping from \"./pages/scoping\"\r\nimport component_stateful_contract from \"./pages/stateful-contract\"\r\nimport component_static from \"./pages/static\"\r\nimport component_struct_types from \"./pages/struct-types\"\r\nimport component_tic_tac_toe from \"./pages/tic-tac-toe\"\r\nimport component_turing_machine from \"./pages/turing-machine\"\r\nimport component_type_aliases from \"./pages/type-aliases\"\r\nimport component_type_inference from \"./pages/type-inference\"\r\nimport component_vanity_address from \"./pages/vanity-address\"\r\nimport component_ from \"./pages\"\r\n\r\ninterface Route {\r\n  path: string\r\n  component: () => JSX.Element\r\n  breakingChanges?: boolean\r\n}\r\n\r\nconst routes: Route[] = [\r\n    {\r\n        path: \"/access-modifiers\",\r\n        component: component_access_modifiers\r\n    },\r\n    {\r\n        path: \"/array-types\",\r\n        component: component_array_types\r\n    },\r\n    {\r\n        path: \"/auction\",\r\n        component: component_auction\r\n    },\r\n    {\r\n        path: \"/basic-types\",\r\n        component: component_basic_types\r\n    },\r\n    {\r\n        path: \"/code-seperator\",\r\n        component: component_code_seperator\r\n    },\r\n    {\r\n        path: \"/cointoss\",\r\n        component: component_cointoss\r\n    },\r\n    {\r\n        path: \"/const-variables\",\r\n        component: component_const_variables\r\n    },\r\n    {\r\n        path: \"/constructor\",\r\n        component: component_constructor\r\n    },\r\n    {\r\n        path: \"/contract-private-functions\",\r\n        component: component_contract_private_functions\r\n    },\r\n    {\r\n        path: \"/ecdsa-oracles\",\r\n        component: component_ecdsa_oracles\r\n    },\r\n    {\r\n        path: \"/exit\",\r\n        component: component_exit\r\n    },\r\n    {\r\n        path: \"/generics\",\r\n        component: component_generics\r\n    },\r\n    {\r\n        path: \"/gol\",\r\n        component: component_gol\r\n    },\r\n    {\r\n        path: \"/hello-world\",\r\n        component: component_hello_world\r\n    },\r\n    {\r\n        path: \"/if-else\",\r\n        component: component_if_else\r\n    },\r\n    {\r\n        path: \"/import\",\r\n        component: component_import\r\n    },\r\n    {\r\n        path: \"/inline-assembly\",\r\n        component: component_inline_assembly\r\n    },\r\n    {\r\n        path: \"/library\",\r\n        component: component_library\r\n    },\r\n    {\r\n        path: \"/loop\",\r\n        component: component_loop\r\n    },\r\n    {\r\n        path: \"/multiparty-hash-puzzles\",\r\n        component: component_multiparty_hash_puzzles\r\n    },\r\n    {\r\n        path: \"/operators\",\r\n        component: component_operators\r\n    },\r\n    {\r\n        path: \"/p2pkh\",\r\n        component: component_p2pkh\r\n    },\r\n    {\r\n        path: \"/public-function\",\r\n        component: component_public_function\r\n    },\r\n    {\r\n        path: \"/r-puzzle\",\r\n        component: component_r_puzzle\r\n    },\r\n    {\r\n        path: \"/rabin-signature\",\r\n        component: component_rabin_signature\r\n    },\r\n    {\r\n        path: \"/require\",\r\n        component: component_require\r\n    },\r\n    {\r\n        path: \"/rule110\",\r\n        component: component_rule110\r\n    },\r\n    {\r\n        path: \"/schnoor-signature\",\r\n        component: component_schnoor_signature\r\n    },\r\n    {\r\n        path: \"/scoping\",\r\n        component: component_scoping\r\n    },\r\n    {\r\n        path: \"/stateful-contract\",\r\n        component: component_stateful_contract\r\n    },\r\n    {\r\n        path: \"/static\",\r\n        component: component_static\r\n    },\r\n    {\r\n        path: \"/struct-types\",\r\n        component: component_struct_types\r\n    },\r\n    {\r\n        path: \"/tic-tac-toe\",\r\n        component: component_tic_tac_toe\r\n    },\r\n    {\r\n        path: \"/turing-machine\",\r\n        component: component_turing_machine\r\n    },\r\n    {\r\n        path: \"/type-aliases\",\r\n        component: component_type_aliases\r\n    },\r\n    {\r\n        path: \"/type-inference\",\r\n        component: component_type_inference\r\n    },\r\n    {\r\n        path: \"/vanity-address\",\r\n        component: component_vanity_address\r\n    },\r\n    {\r\n        path: \"\",\r\n        component: component_\r\n    },\r\n]\r\n\r\nexport default routes","import React, { useEffect } from \"react\"\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\"\r\nimport { useAppContext } from \"./contexts/AppContext\"\r\nimport styles from \"./App.module.css\"\r\nimport Header from \"./components/Header\"\r\nimport Footer from \"./components/Footer\"\r\nimport routes from \"./routes\"\r\n\r\nfunction App() {\r\n  const { state, loadLocalStorage } = useAppContext()\r\n\r\n  useEffect(() => {\r\n    loadLocalStorage()\r\n  }, [])\r\n\r\n  if (state.loading) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <Router basename={process.env.PUBLIC_URL}>\r\n      <div className={styles.component}>\r\n        <Header />\r\n        <div className={styles.main}>\r\n          <Switch>\r\n            {routes.map((route) => (\r\n              <Route\r\n                key={route.path}\r\n                path={route.path}\r\n                exact\r\n                component={route.component}\r\n              />\r\n            ))}\r\n          </Switch>\r\n        </div>\r\n        <div className={styles.footer}>\r\n          <Footer />\r\n        </div>\r\n      </div>\r\n    </Router>\r\n  )\r\n}\r\n\r\nexport default App\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(\r\n      process.env.PUBLIC_URL,\r\n      window.location.href\r\n    );\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from \"react\"\r\nimport { hydrate, render } from \"react-dom\"\r\nimport \"./index.css\"\r\nimport { Provider as AppContextProvider } from \"./contexts/AppContext\"\r\nimport App from \"./App\"\r\nimport * as serviceWorker from \"./serviceWorker\"\r\n\r\nconst rootElement = document.getElementById(\"root\")\r\n// @ts-ignore\r\nif (rootElement.hasChildNodes()) {\r\n  hydrate(\r\n    <AppContextProvider>\r\n      <App />\r\n    </AppContextProvider>,\r\n    rootElement\r\n  )\r\n} else {\r\n  render(\r\n    <AppContextProvider>\r\n      <App />\r\n    </AppContextProvider>,\r\n    rootElement\r\n  )\r\n}\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister()\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"component\":\"Footer_component__2gIOF\",\"row\":\"Footer_row__3SCQ6\",\"bar\":\"Footer_bar__3i-Di\",\"khan\":\"Footer_khan__3t9zq\",\"social\":\"Footer_social__3o5aB\",\"scrypt\":\"Footer_scrypt__-BQ2u\",\"telegram\":\"Footer_telegram__24Rdy\",\"discord\":\"Footer_discord__1IHsV\",\"youTube\":\"Footer_youTube__2k_Ak\",\"slack\":\"Footer_slack__2tIs2\",\"github\":\"Footer_github__3ERaz\",\"medium\":\"Footer_medium__3on9R\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"component\":\"pages_component__NCufb\",\"updates\":\"pages_updates__i2a_o\",\"category\":\"pages_category__2XY_w\",\"listItem\":\"pages_listItem__2JvoX\",\"label\":\"pages_label__3ATxD\",\"header\":\"pages_header__Xzw9c\",\"youTube\":\"pages_youTube__2dXto\",\"youTubeLogo\":\"pages_youTubeLogo__2_8ow\"};"],"sourceRoot":""}